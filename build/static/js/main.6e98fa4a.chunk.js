(this.webpackJsonpfe=this.webpackJsonpfe||[]).push([[0],{108:function(e,t,c){},136:function(e,t,c){},16:function(e,t,c){},189:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),n=c(19),i=c.n(n),r=(c(108),c(3)),l=c(6),j=c(9),d=c(4),o=c(8),b=(c(16),c.p+"static/media/logo.2afcdafe.svg"),u=c(12),O=c(27),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?x.defaults.headers.common.Authorization="bearer ".concat(e):delete x.defaults.headers.common.Authorization},m=c.n(O).a.create({baseURL:"".concat("https://vac.ykisumut.com")});m.interceptors.response.use((function(e){return e.data}),(function(e){if(e&&e.response)return 401===e.response.status||400===e.response.data?("sesi kamu sudah habis, yuk login lagi",localStorage.removeItem("vac:token"),void(window.location.href="/user/login")):Promise.reject(e.response.data)}));var x=m,p="UPDATE_PROFILE_ADMIN",v="LOGOUT_ADMIN",f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:p,payload:e}},g=function(){return x.get("/vacs")},N=function(e){return x.post("/near",e)},k=function(e){return x.get("/participant/".concat(e))},S=function(e){return x.get("/vac/".concat(e))},y=c(7),D=c(0),C=function(){var e=Object(s.useState)({email:"",password:""}),t=Object(r.a)(e,2),c=t[0],a=t[1],n=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,i=Object(s.useState)(""),l=Object(r.a)(i,2),O=l[0],m=l[1],p=Object(s.useState)(""),v=Object(r.a)(p,2),g=v[0],N=(v[1],Object(s.useState)("")),k=Object(r.a)(N,2),S=k[0],C=k[1],w=Object(u.b)(),T=Object(u.c)((function(e){return e})).admin,V=function(e){var t=e.target.id,s=e.target.value;"email"===t&&(n.test(s)?m(""):m(Object(D.jsx)("div",{className:"error-messages",children:Object(D.jsx)("p",{children:"Seems like your email not valid"})}))),a(Object(o.a)(Object(o.a)({},c),{},Object(d.a)({},t,s))),console.log("data: ",c)};return Object(D.jsxs)(D.Fragment,{children:[T?Object(D.jsx)(j.a,{to:"/admin/profile"}):null,Object(D.jsx)("div",{className:"admin-bg-login",children:Object(D.jsx)("div",{className:"loginbox",children:Object(D.jsxs)("div",{className:"grid-container-admin",children:[Object(D.jsx)("div",{className:"login-header",children:Object(D.jsx)("h1",{children:"Login"})}),Object(D.jsx)("div",{className:"login-logo",children:Object(D.jsx)("img",{src:b,alt:"logo"})}),Object(D.jsxs)("div",{className:"login-form",children:[Object(D.jsxs)("form",{spellCheck:"false",onSubmit:function(e){e.preventDefault(),0!==c.email.length&&0!==c.password.length?function(e){return x.post("/admin/login",e)}(c).then((function(e){var t;t=Object(o.a)(Object(o.a)({},e.data),{},{email:c.email}),localStorage.setItem("vac:token-admin",JSON.stringify(t)),h(t.Token),w(f(t)),y.b.success("berhasil login")})).catch((function(e){e.meta.description.forEach((function(e){console.log(e),y.b.error(e)}))})):C(Object(D.jsx)("div",{className:"error-messages",children:Object(D.jsx)("p",{children:"Password can not be empty"})}))},children:[Object(D.jsxs)("div",{className:"inputbox",children:[Object(D.jsx)("input",{type:"text",value:c.email,id:"email",onChange:V,required:!0}),Object(D.jsx)("label",{children:"Email"})]}),Object(D.jsxs)("div",{className:"inputbox",children:[Object(D.jsx)("input",{type:"password",id:"password",value:c.password,onChange:V,required:!0}),Object(D.jsx)("label",{children:"Password"})]}),Object(D.jsx)("button",{type:"submit",children:"Continue"})]}),Object(D.jsxs)("div",{className:"error-message-container",children:[O,g,S]})]})]})})})]})},w=function(){return Object(D.jsxs)("div",{className:"header",children:[Object(D.jsxs)("div",{className:"navbar",children:[Object(D.jsx)(l.c,{to:"/admin/main-menu",style:function(e){return e.isActive?{color:"#006d7c",fontWeight:"600",textDecoration:"none"}:{color:"#b7b7b7",textDecoration:"none"}},children:Object(D.jsx)("div",{className:"item",children:"Daftar Program Vaksinasi"})}),Object(D.jsx)(l.c,{to:"/admin/ownvac",className:"item",style:function(e){return e.isActive?{color:"#006d7c",fontWeight:"600",textDecoration:"none"}:{color:"#b7b7b7",textDecoration:"none"}},children:Object(D.jsx)("div",{className:"item",children:"Vaksinasi oleh Saya"})}),Object(D.jsx)(l.c,{to:"/admin/news",className:"item",style:function(e){return e.isActive?{color:"#006d7c",fontWeight:"600",textDecoration:"none"}:{color:"#b7b7b7",textDecoration:"none"}},children:Object(D.jsx)("div",{className:"item",children:"Berita Vaksinasi"})})]}),Object(D.jsx)(l.c,{to:"/admin/profile",style:function(e){return e.isActive?{color:"#006d7c",fontWeight:"600",textDecoration:"none"}:{color:"#b7b7b7",textDecoration:"none"}},className:"profile",children:Object(D.jsx)("div",{className:"item",children:"Admin Altaha"})})]})},T=c(13),V=c.n(T),I=function(){return Object(D.jsx)("div",{className:"loading-div",children:Object(D.jsx)("div",{className:"loading-child",children:"Loading..."})})},F=function(){var e=Object(s.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],n=Object(u.c)((function(e){return e})).admin;Object(s.useEffect)((function(){g().then((function(e){var t=e.data;a(t),y.b.info("Seluruh data berhasil dimuat")})).catch((function(){y.b.error("oops sepertinya ada kesalahan")}))}),[]);var i=function(e){return V()(e).locale("id").format("ll")},l=function(e){return V()(e).format("LT")};return n?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(w,{}),Object(D.jsx)("div",{className:"mainmenu-admin",children:Object(D.jsx)("div",{className:"content",children:c?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h2",{children:"Daftar Seluruh Program Vaksinasi"}),Object(D.jsxs)("table",{children:[Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:"No."}),Object(D.jsx)("th",{children:"Deskripsi Vaksin"}),Object(D.jsx)("th",{children:"Lokasi Vaksin"}),Object(D.jsx)("th",{children:"Sesi"}),Object(D.jsx)("th",{children:"Vaksin"})]}),c.map((function(e,t){return Object(D.jsxs)("tr",{children:[Object(D.jsxs)("td",{children:[t+1,"."]}),Object(D.jsx)("td",{children:e.Description}),Object(D.jsxs)("td",{style:{width:400},children:[e.Location,Object(D.jsx)("br",{}),e.Address]}),Object(D.jsx)("td",{children:e.Sessions.map((function(e,t){return Object(D.jsxs)(D.Fragment,{children:[e.Description,": ",Object(D.jsx)("br",{}),i(e.StartTime)," - ",i(e.EndTime)," ",Object(D.jsx)("br",{}),l(e.StartTime)," "," - ",l(e.EndTime),Object(D.jsx)("br",{}),Object(D.jsx)("br",{})]})}))}),Object(D.jsxs)("td",{children:[e.VacType,Object(D.jsx)("br",{}),"Stok vaksin: ",e.Stock]})]},t)}))]})]}):Object(D.jsx)("h2",{children:"Tidak ada kegiatan vaksinasi"})})})]}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(j.a,{to:"/admin/login"}),y.b.info("anda harus login sebagai admin")]})},L=function(){return Object(D.jsx)("div",{className:"footer",children:Object(D.jsx)("img",{src:b,alt:"footer"})})},E=c(15),A=c(63),q=c.n(A);c(133);function P(e){var t=e.onChangePlace,c=void 0===t?function(e){}:t,a=Object(s.useRef)(null),n=Object(s.useRef)(null),i=Object(s.useState)(100),l=Object(r.a)(i,2),j=l[0],d=l[1],o=Object(s.useState)(0),b=Object(r.a)(o,2),u=b[0],O=b[1],h=Object(s.useState)(5),m=Object(r.a)(h,2),x=m[0],p=m[1],v=Object(s.useState)(),f=Object(r.a)(v,2),g=f[0],N=f[1];return Object(s.useEffect)((function(){n.current||(n.current=new q.a.Map({container:a.current,style:"mapbox://styles/mapbox/streets-v11",center:[j,u],zoom:x}),n.current.on("click",(function(e){var t=e.lngLat,c=t.lat,s=t.lng;fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(s,",").concat(c,".json?limit=1&types=poi%2Ccountry%2Cregion%2Caddress%2Cneighborhood%2Cplace%2Cpostcode%2Clocality%2Cdistrict&access_token=pk.eyJ1IjoiYWx0YWhhIiwiYSI6ImNreW1lYnp6bDAxbWcyb2xqZjZsYzYwdWsifQ.7Oezd-XT8iHNi4rr2Jtphw")).then((function(e){if(200===e.status)return e.json()})).then((function(e){N(e.features[0])}))})))}),[]),Object(s.useEffect)((function(){c(g)}),[g]),Object(s.useEffect)((function(){n.current&&n.current.on("move",(function(){d(n.current.getCenter().lng.toFixed(4)),O(n.current.getCenter().lat.toFixed(4)),p(n.current.getZoom().toFixed(2))}))})),Object(D.jsx)(D.Fragment,{children:Object(D.jsx)("div",{children:Object(D.jsx)("div",{ref:a,className:"map-container"})})})}q.a.accessToken="pk.eyJ1IjoiYWx0YWhhIiwiYSI6ImNreW1lYnp6bDAxbWcyb2xqZjZsYzYwdWsifQ.7Oezd-XT8iHNi4rr2Jtphw";var _=function(){var e=Object(s.useState)([{Description:"",StartTime:"",EndTime:""}]),t=Object(r.a)(e,2),c=t[0],a=t[1],n=function(e,t){var s=e.target,n=s.name,i=s.value,r=Object(E.a)(c);r[t][n]=i,a(r)},i=Object(u.c)((function(e){return e})).admin,l=Object(s.useState)({description:"",location:"",address:"",latitude:0,longitude:0,sessions:[],vacType:"",stock:1}),b=Object(r.a)(l,2),O=b[0],h=b[1],m=function(e){var t=e.target.id,c="number"==e.target.type?Number(e.target.value):e.target.value;h(Object(o.a)(Object(o.a)({},O),{},Object(d.a)({},t,c)))},p=Object(s.useCallback)((function(e){e.preventDefault(),function(e){return x.post("/vac",e)}(O).then((function(e){y.b.success("berhasil menambahkan kegiatan vaksinasi baru"),window.location.href="/admin/ownvac"})).catch((function(e){e.meta.description.forEach((function(e){y.b.warn(e)}))}))}),[O]),v=Object(s.useCallback)((function(e){console.log(e),e&&h(Object(o.a)(Object(o.a)({},O),{},{address:e.place_name,latitude:e.center[1],longitude:e.center[0],location:e.text}))}),[O]),f=Object(s.useCallback)((function(){a([].concat(Object(E.a)(c),[{Description:"",StartTime:"",EndTime:""}]))}),[c]);return Object(s.useEffect)((function(){h(Object(o.a)(Object(o.a)({},O),{},{sessions:c}))}),[c]),Object(D.jsx)(D.Fragment,{children:i?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(w,{}),";",Object(D.jsx)("div",{className:"mainmenu-admin",children:Object(D.jsxs)("div",{className:"content",children:[Object(D.jsx)("h2",{children:"Tambah Kegiatan Vaksinasi Baru"}),Object(D.jsx)("form",{spellCheck:"false",onSubmit:p,children:Object(D.jsxs)("div",{className:"container-dual",children:[Object(D.jsxs)("div",{className:"profile",children:[Object(D.jsx)(P,{onChangePlace:v}),Object(D.jsx)("br",{}),Object(D.jsx)("p",{children:"Deskripsi Vaksinasi"}),Object(D.jsx)("textarea",{className:"inputpeta",type:"text",id:"description",onChange:m,value:O.description,required:!0}),Object(D.jsx)("p",{children:"Jenis Vaksin"}),Object(D.jsx)("input",{className:"inputuser",type:"text",id:"vacType",onChange:m,value:O.vacType,required:!0}),Object(D.jsx)("p",{children:"Stok Vaksin"}),Object(D.jsx)("input",{className:"inputuser",type:"number",id:"stock",onChange:m,value:O.stock,required:!0})]}),Object(D.jsxs)("div",{className:"profile",children:[Object(D.jsx)("p",{children:"Lokasi"}),Object(D.jsx)("input",{className:"inputuser",type:"text",id:"location",onChange:m,value:O.location,required:!0}),Object(D.jsx)("p",{children:"Alamat"}),Object(D.jsx)("textarea",{className:"inputpeta",type:"text",id:"address",onChange:m,value:O.address,required:!0}),Object(D.jsx)("p",{children:"Latitude"}),Object(D.jsx)("input",{className:"inputuser",type:"text",id:"latitude",onChange:m,value:O.latitude,required:!0}),Object(D.jsx)("p",{children:"Longitude"}),Object(D.jsx)("input",{className:"inputuser",type:"text",id:"longitude",onChange:m,value:O.longitude,required:!0}),c.map((function(e,t){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("p",{className:"value",children:["Sesi ",t+1,1!==c.length&&Object(D.jsx)("button",{onClick:function(){return function(e){var t=Object(E.a)(c);t.splice(e,1),a(t)}(t)},className:"hapus-sesi",children:"Hapus sesi"}),c.length-1===t&&Object(D.jsx)("button",{onClick:f,className:"tambah-sesi",children:"Tambah sesi"})]}),Object(D.jsx)("p",{children:"Deskripsi sesi"}),Object(D.jsx)("input",{name:"Description",className:"inputuser",type:"text",placeholder:"Masukkan nama sesi",value:e.Description,onChange:function(e){return n(e,t)}}),Object(D.jsx)("p",{children:"Jadwal mulai sesi"}),Object(D.jsx)("input",{type:"datetime-local",name:"StartTime",className:"inputuser",value:e.StartTime,onChange:function(e){return n(e,t)}}),Object(D.jsx)("p",{children:"Jadwal selesai sesi"}),Object(D.jsx)("input",{type:"datetime-local",name:"EndTime",className:"inputuser",value:e.EndTime,onChange:function(e){return n(e,t)}})]})})),Object(D.jsx)("input",{type:"submit",className:"add",value:"Tambah"})]})]})})]})})]}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(j.a,{to:"/admin/login"}),y.b.info("anda harus login sebagai admin")]})})},J=c(99),K=c.n(J);var W=function(){var e=K()("https://newsapi.org/v2/top-headlines?apiKey=e2c33fa4d8af42bf8273a226d28060e6&q=covid"),t=e.isLoading,c=e.error,s=e.data;if(t)return"loading...";if(c)return"error fetching data";var a=s.articles.map((function(e){return Object(D.jsx)("div",{className:"grid-item",children:Object(D.jsxs)("a",{href:e.url,style:{textDecoration:"inherit"},target:"_blank",children:[Object(D.jsx)("img",{src:e.urlToImage}),Object(D.jsxs)("div",{className:"description",children:[Object(D.jsx)("h1",{children:e.title}),Object(D.jsx)("p",{children:e.description}),Object(D.jsxs)("div",{className:"detail",children:[Object(D.jsx)("p",{children:e.publishedAt}),Object(D.jsx)("p",{children:e.source.name})]})]})]})})}));return Object(D.jsx)(D.Fragment,{children:a})},R=function(){return Object(u.c)((function(e){return e})).admin?Object(D.jsxs)("div",{className:"mainmenu-admin",children:[Object(D.jsx)(w,{}),Object(D.jsx)("div",{className:"content",children:Object(D.jsx)("div",{className:"grid-container",children:Object(D.jsx)(W,{})})})]}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(j.a,{to:"/admin/login"}),y.b.info("anda harus login sebagai admin")]})},Y=function(){var e=Object(u.c)((function(e){return e})).admin,t=Object(u.b)();return Object(D.jsx)(D.Fragment,{children:e?Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("div",{className:"mainmenu-admin",children:[Object(D.jsx)(w,{}),Object(D.jsx)("div",{className:"content",children:Object(D.jsxs)("div",{className:"container-dual",children:[Object(D.jsxs)("div",{className:"profile",children:[Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Nama"}),Object(D.jsx)("div",{className:"value",children:null===e||void 0===e?void 0:e.Name})]}),Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Email"}),Object(D.jsx)("div",{className:"value",children:null===e||void 0===e?void 0:e.Email})]}),Object(D.jsx)("button",{onClick:function(){t({type:v}),y.b.warn("kamu sudah keluar")},style:{textDecoration:"inherit"},className:"back",children:Object(D.jsx)("div",{children:"Keluar"})})]}),Object(D.jsx)("div",{className:"profile",children:Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Jabatan"}),Object(D.jsx)("div",{className:"value",children:null===e||void 0===e?void 0:e.Position})]})})]})})]})}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(C,{}),y.b.info("anda harus login sebagai admin")]})})},U=function(){Object(s.useEffect)((function(){v()}),[]);var e=Object(j.h)().id,t=Object(s.useState)(),c=Object(r.a)(t,2),a=(c[0],c[1]),n=Object(s.useState)([{description:"",startTime:"",endTime:""}]),i=Object(r.a)(n,2),l=(i[0],i[1],Object(u.c)((function(e){return e})).admin),b={id:Number(e),description:"",location:"",address:"",latitude:0,longitude:0,sessions:[],vacType:"",stock:1},O=Object(s.useState)(b),h=Object(r.a)(O,2),m=h[0],p=h[1],v=Object(s.useCallback)((function(){S(e).then((function(e){var t=e.data;a(t),p({id:t.ID,description:t.Description,location:t.Location,address:t.Address,latitude:t.Latitude,longitude:t.Longitude,sessions:t.Sessions.map((function(e){return{id:e.ID,description:e.Description,startTime:V()(e.StartTime).format("yyyy-MM-DD[T]HH:mm:ss"),endTime:V()(e.EndTime).format("yyyy-MM-DD[T]HH:mm:ss")}})),vacType:t.VacType,stock:t.Stock})})).catch((function(){y.b.error("oops sepertinya ada kesalahan")}))}),[]),f=function(e){var t=e.target.id,c="number"==e.target.type?Number(e.target.value):e.target.value;p(Object(o.a)(Object(o.a)({},m),{},Object(d.a)({},t,c)))},g=Object(s.useCallback)((function(e){e.preventDefault(),function(e){return x.put("/vac",e)}(m).then((function(e){y.b.success("berhasil update vaksinasi"),window.location.href="/admin/ownvac"})).catch((function(e){e.meta.description.forEach((function(e){y.b.warn(e)}))}))}),[m]),N=Object(s.useCallback)((function(e){console.log(e),e&&p(Object(o.a)(Object(o.a)({},m),{},{address:e.place_name,latitude:e.center[1],longitude:e.center[0],location:e.text}))}),[m]),k=Object(s.useCallback)((function(e){var t=m.sessions;t.splice(e,1),p(Object(o.a)(Object(o.a)({},m),{},{sessions:t}))}),[m]),C=Object(s.useCallback)((function(){var e=m.sessions;e.push({description:"",startTime:"",endTime:""}),p(Object(o.a)(Object(o.a)({},m),{},{sessions:e}))}),[m]),T=function(e){return V()(e).locale("id").format("ll")},I=function(e){return V()(e).format("LT")},F=Object(s.useCallback)((function(e,t){var c=e.target.name,s=e.target.value,a=m.sessions;a[t][c]=s,console.log(a),p(Object(o.a)(Object(o.a)({},m),{},{sessions:a}))}),[m]);return Object(D.jsx)(D.Fragment,{children:l?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(w,{}),";",Object(D.jsx)("div",{className:"mainmenu-admin",children:Object(D.jsxs)("div",{className:"content",children:[Object(D.jsx)("h2",{children:"Edit Kegiatan Vaksinasi"}),Object(D.jsxs)("table",{children:[Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:"ID"}),Object(D.jsx)("th",{children:"Deskripsi Vaksin"}),Object(D.jsx)("th",{children:"Lokasi Vaksin"}),Object(D.jsx)("th",{children:"Sesi"}),Object(D.jsx)("th",{children:"Vaksin"})]}),Object(D.jsxs)("tr",{children:[Object(D.jsxs)("td",{children:[null===m||void 0===m?void 0:m.id,"."]}),Object(D.jsx)("td",{children:null===m||void 0===m?void 0:m.description}),Object(D.jsxs)("td",{style:{width:400},children:[null===m||void 0===m?void 0:m.location,Object(D.jsx)("br",{}),null===m||void 0===m?void 0:m.address]}),Object(D.jsx)("td",{children:null===m||void 0===m?void 0:m.sessions.map((function(e,t){return Object(D.jsxs)(D.Fragment,{children:[e.description,": ",Object(D.jsx)("br",{}),T(e.startTime)," - ",T(e.endTime)," ",Object(D.jsx)("br",{}),I(e.startTime)," "," - ",I(e.endTime),Object(D.jsx)("br",{}),Object(D.jsx)("br",{})]})}))}),Object(D.jsxs)("td",{children:[null===m||void 0===m?void 0:m.vacType,Object(D.jsx)("br",{}),"Stok vaksin: ",null===m||void 0===m?void 0:m.stock]})]})]}),Object(D.jsx)("form",{spellCheck:"false",onSubmit:g,children:Object(D.jsxs)("div",{className:"container-dual",children:[Object(D.jsxs)("div",{className:"profile",children:[Object(D.jsx)(P,{onChangePlace:N}),Object(D.jsx)("br",{}),Object(D.jsx)("p",{children:"Deskripsi Vaksinasi"}),Object(D.jsx)("textarea",{className:"inputpeta",type:"text",id:"description",onChange:f,value:m.description,required:!0}),Object(D.jsx)("p",{children:"Jenis Vaksin"}),Object(D.jsx)("input",{className:"inputuser",type:"text",id:"vacType",onChange:f,value:m.vacType,required:!0}),Object(D.jsx)("p",{children:"Stok Vaksin"}),Object(D.jsx)("input",{className:"inputuser",type:"number",id:"stock",onChange:f,value:m.stock,required:!0})]}),Object(D.jsxs)("div",{className:"profile",children:[Object(D.jsx)("p",{children:"Lokasi"}),Object(D.jsx)("input",{className:"inputuser",type:"text",id:"location",onChange:f,value:m.location,required:!0}),Object(D.jsx)("p",{children:"Alamat"}),Object(D.jsx)("textarea",{className:"inputpeta",type:"text",id:"address",onChange:f,value:m.address,required:!0}),Object(D.jsx)("p",{children:"Latitude"}),Object(D.jsx)("input",{className:"inputuser",type:"text",id:"latitude",onChange:f,value:m.latitude,required:!0}),Object(D.jsx)("p",{children:"Longitude"}),Object(D.jsx)("input",{className:"inputuser",type:"text",id:"longitude",onChange:f,value:m.longitude,required:!0}),null===m||void 0===m?void 0:m.sessions.map((function(e,t){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("p",{className:"value",children:["Sesi ",t+1,1!==m.sessions.length&&Object(D.jsx)("button",{onClick:function(){return k(t)},className:"hapus-sesi",children:"Hapus sesi"}),m.sessions.length-1===t&&Object(D.jsx)("button",{onClick:C,className:"tambah-sesi",children:"Tambah sesi"})]}),Object(D.jsx)("p",{children:"Deskripsi sesi"}),Object(D.jsx)("input",{name:"description",className:"inputuser",type:"text",placeholder:"Masukkan nama sesi",value:e.description,onChange:function(e){return F(e,t)}}),Object(D.jsx)("p",{children:"Jadwal mulai sesi"}),Object(D.jsx)("input",{type:"datetime-local",name:"startTime",className:"inputuser",value:e.startTime,onChange:function(e){return F(e,t)}}),Object(D.jsx)("p",{children:"Jadwal selesai sesi"}),Object(D.jsx)("input",{type:"datetime-local",name:"endTime",className:"inputuser",value:e.endTime,onChange:function(e){return F(e,t)}})]})})),Object(D.jsx)("input",{type:"submit",className:"add",value:"Ubah"})]})]})})]})})]}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(j.a,{to:"/admin/login"}),y.b.info("anda harus login sebagai admin")]})})},M=(c(136),c(194)),z=c.p+"static/media/logo.6ac74cc5.svg",B=function(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(!1),i=Object(r.a)(n,2),j=i[0],d=i[1];Object(s.useEffect)((function(){var e=window.matchMedia("(max-width: 700px)");return e.addListener(o),o(e),function(){e.removeListener(o)}}),[]);var o=function(e){e.matches?d(!0):d(!1)};return Object(D.jsxs)("header",{className:"Header",children:[Object(D.jsx)("div",{className:"Logo",children:Object(D.jsx)(l.c,{to:"/user/landingpage",children:Object(D.jsx)("img",{src:z})})}),Object(D.jsx)(M.a,{in:!j||c,timeout:350,classNames:"NavAnimation",unmountOnExit:!0,children:Object(D.jsxs)("nav",{className:"Nav",children:[Object(D.jsx)(l.c,{to:"/user/landingpage",className:"item",style:function(e){return e.isActive?{color:"#006d7c",fontWeight:"600",textDecoration:"none"}:{color:"#b7b7b7",textDecoration:"none"}},children:Object(D.jsx)("div",{className:"ho",children:"Beranda"})}),Object(D.jsx)(l.c,{to:"/user/agreement",className:"item",style:function(e){return e.isActive?{color:"#006d7c",fontWeight:"600",textDecoration:"none"}:{color:"#b7b7b7",textDecoration:"none"}},children:Object(D.jsx)("div",{className:"ho",children:"Daftar Vaksin"})}),Object(D.jsx)(l.c,{to:"/user/vaccine-list",className:"item",style:function(e){return e.isActive?{color:"#006d7c",fontWeight:"600",textDecoration:"none"}:{color:"#b7b7b7",textDecoration:"none"}},children:Object(D.jsx)("div",{className:"ho",children:"Jadwal"})}),Object(D.jsx)(l.c,{to:"/user/profile",className:"item",style:function(e){return e.isActive?{color:"#006d7c",fontWeight:"600",textDecoration:"none"}:{color:"#b7b7b7",textDecoration:"none"}},children:Object(D.jsx)("div",{className:"ho",children:"Profil"})})]})}),Object(D.jsx)("button",{onClick:function(){a(!c)},className:"Burger",children:"Menu"})]})},H=function(){return Object(D.jsx)(D.Fragment,{children:Object(D.jsx)("div",{className:"mainmenu-user2",children:Object(D.jsxs)("div",{className:"content",children:[Object(D.jsxs)("h1",{children:["Kelihatannya kamu belum ada daftar vaksin. ",Object(D.jsx)("br",{}),"kamu bisa daftarkan orang lain juga loh."]}),Object(D.jsx)("div",{className:"dialog-button",children:Object(D.jsx)(l.b,{to:"/user/agreement",style:{textDecoration:"inherit"},children:Object(D.jsx)("div",{className:"add",children:"Daftar"})})})]})})})},Z=function(){var e=Object(s.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(null),i=Object(r.a)(n,2),d=i[0],o=i[1],b=Object(j.h)().id,u=function(e){return V()(e).locale("id").format("ll")},O=function(e){return V()(e).format("LT")},h=Object(s.useCallback)((function(){var e;(e=b,x.get("/participant/vac/".concat(e))).then((function(e){var t=e.data;a(t)})).catch((function(e){y.b.warn("hmm sepertinya ada kesalahan")}))}),[]),m=Object(s.useCallback)((function(e){(function(e){return x.put("/participant/canceled",null,{params:{id:e}})})(e).then((function(){return h()}))}),[]),p=Object(s.useCallback)((function(e){(function(e){return x.put("/participant/vaccinated",null,{params:{id:e}})})(e).then((function(){return h()}))}),[]);return Object(s.useEffect)((function(){h()}),[]),Object(s.useEffect)((function(){S(b).then((function(e){var t=e.data;console.log(t),o(t)})).catch((function(e){console.log(e.response),y.b.warn("hmm sepertinya ada kesalahan")}))}),[]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(w,{}),Object(D.jsx)("div",{className:"mainmenu-admin",children:Object(D.jsxs)("div",{className:"content",children:[Object(D.jsxs)("div",{className:"container-dual",children:[Object(D.jsxs)("div",{className:"profile",children:[Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Lokasi"}),Object(D.jsx)("div",{className:"value",children:null===d||void 0===d?void 0:d.Location})]}),Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Alamat"}),Object(D.jsx)("div",{className:"value",children:null===d||void 0===d?void 0:d.Address})]}),Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Jenis Vaksin"}),Object(D.jsx)("div",{className:"value",children:null===d||void 0===d?void 0:d.VacType})]}),Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Stok Vaksin"}),Object(D.jsx)("div",{className:"value",children:null===d||void 0===d?void 0:d.Stock})]})]}),Object(D.jsx)("div",{className:"profile",children:Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Jadwal dan Sesi Vaksin"}),Object(D.jsx)("div",{className:"value",children:null===d||void 0===d?void 0:d.Sessions.map((function(e,t){return Object(D.jsxs)(D.Fragment,{children:[e.Description,": ",Object(D.jsx)("br",{}),u(e.StartTime)," - ",u(e.EndTime)," ",Object(D.jsx)("br",{}),O(e.StartTime)," "," - ",O(e.EndTime),Object(D.jsx)("br",{}),Object(D.jsx)("br",{})]})}))})]})})]}),0!=c.length?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h2",{children:"Daftar Partisipan"}),Object(D.jsxs)("table",{children:[Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:"No."}),Object(D.jsx)("th",{children:"Nama Partisipan"}),Object(D.jsx)("th",{children:"NIK"}),Object(D.jsx)("th",{children:"Nomor Telepon"}),Object(D.jsx)("th",{children:"Alamat"}),Object(D.jsx)("th",{children:"Sesi"}),Object(D.jsx)("th",{children:"Status"})]}),c.map((function(e,t){return Object(D.jsxs)("tr",{children:[Object(D.jsxs)("td",{children:[t+1,"."]}),Object(D.jsx)("td",{children:e.Fullname}),Object(D.jsx)("td",{children:e.Nik}),Object(D.jsx)("td",{children:e.PhoneNumber}),Object(D.jsx)("td",{children:e.Address}),Object(D.jsxs)("td",{children:[e.Session.Description,Object(D.jsx)("br",{}),O(e.Session.StartTime)]}),Object(D.jsxs)("td",{children:["registered"==e.Status?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"konfirmasi",onClick:function(){return p(e.ID)},children:"Vaccinate"}),Object(D.jsx)("br",{}),Object(D.jsx)("div",{className:"hapus",onClick:function(){return m(e.ID)},children:"Reject"})]}):null,"VACCINATED"==e.Status?Object(D.jsx)(D.Fragment,{children:"vaccinated"}):null,"canceled"==e.Status?Object(D.jsx)(D.Fragment,{children:"canceled"}):null]})]},t)}))]}),Object(D.jsx)("div",{className:"dialog-button",children:Object(D.jsx)(l.b,{to:"/admin/ownvac",style:{textDecoration:"inherit"},children:Object(D.jsx)("div",{className:"back",children:"Kembali"})})})]}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h2",{children:"Belum ada partisipan"}),Object(D.jsx)("div",{className:"dialog-button",children:Object(D.jsx)(l.b,{to:"/admin/ownvac",style:{textDecoration:"inherit"},children:Object(D.jsx)("div",{className:"back",children:"Kembali"})})})]})]})})]})},X=function(){return Object(D.jsx)(D.Fragment,{children:Object(D.jsx)("div",{className:"notfound-bg-login",children:Object(D.jsxs)("div",{className:"content-notfound",children:["Maaf halaman yang kamu cari tidak ada \ud83d\ude22",Object(D.jsx)(l.c,{to:"/user/landingpage",className:"item",style:{textDecoration:"none"},children:Object(D.jsx)("div",{className:"gotomainmenu-not-found",children:"Go to main menu"})})]})})})},$=(c(137),function(){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(B,{}),Object(D.jsx)("div",{className:"mainmenu-user",children:Object(D.jsxs)("div",{className:"content",children:[Object(D.jsx)("p",{children:"Wujudkan Indonesia sehat, aman, dan produktif"}),Object(D.jsx)("h1",{children:"Indonesia tanggap Covid-19"}),Object(D.jsxs)("div",{className:"dialog-button",children:[Object(D.jsx)(l.b,{to:"/user/vaccine-list",style:{textDecoration:"inherit"},children:Object(D.jsx)("div",{className:"back",children:"Lihat Lokasi"})}),Object(D.jsx)(l.b,{to:"/user/agreement",style:{textDecoration:"inherit"},children:Object(D.jsx)("div",{className:"add",children:"Daftar Vaksin"})})]})]})})]})}),G="UPDATE_PROFILE",Q="LOGOUT",ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:G,payload:e}},te=function(){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(B,{}),Object(D.jsx)("div",{className:"mainmenu-user2",children:Object(D.jsxs)("div",{className:"content",children:[Object(D.jsxs)("h1",{children:["Kamu belum boleh ",Object(D.jsx)("br",{}),"mengakses halaman ini ",Object(D.jsx)("br",{}),"yuk login dulu :D"]}),Object(D.jsxs)("div",{className:"dialog-button",children:[Object(D.jsx)(l.b,{to:"/user/register",style:{textDecoration:"inherit"},children:Object(D.jsx)("div",{className:"back",children:"Daftar"})}),Object(D.jsx)(l.b,{to:"/user/login",style:{textDecoration:"inherit"},children:Object(D.jsx)("div",{className:"add",children:"Masuk"})})]})]})})]})},ce=function(){var e=Object(u.c)((function(e){return e})).user,t=Object(u.b)();return Object(D.jsx)(D.Fragment,{children:e?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(B,{}),Object(D.jsx)("div",{className:"mainmenu-user2",children:Object(D.jsxs)("div",{className:"content",children:[Object(D.jsx)("h1",{children:"Profil Saya"}),Object(D.jsxs)("div",{className:"container-dual",children:[Object(D.jsxs)("div",{className:"profile",children:[Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Nama"}),Object(D.jsx)("div",{className:"value",children:null===e||void 0===e?void 0:e.name})]}),Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"NIK"}),Object(D.jsx)("div",{className:"value",children:null===e||void 0===e?void 0:e.nik})]}),Object(D.jsxs)("div",{className:"dialog-button",children:[Object(D.jsx)("button",{onClick:function(){t({type:Q}),y.b.warn("kamu sudah keluar")},style:{textDecoration:"inherit"},className:"back",children:Object(D.jsx)("div",{children:"Keluar"})}),Object(D.jsx)(l.b,{to:"/user/info-vacc",style:{textDecoration:"inherit"},children:Object(D.jsx)("button",{className:"add",children:"Jadwal Saya"})})]})]}),Object(D.jsx)("div",{className:"profile",children:Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Email"}),Object(D.jsx)("div",{className:"value",children:null===e||void 0===e?void 0:e.email})]})})]})]})})]}):Object(D.jsx)(te,{})})},se=c.p+"static/media/VaccineIcon.2d02d558.png",ae=c(21),ne=c(39),ie=c.p+"static/media/placeholder.64cdcb0e.png";function re(e){var t=e.updateLocation,c=void 0===t?function(e,t){}:t,a=Object(s.useState)([]),n=Object(r.a)(a,2),i=n[0],l=n[1],j=Object(s.useState)(null),d=Object(r.a)(j,2),b=d[0],u=d[1],O=Object(s.useState)({width:"90vw",height:"55vh",latitude:3.59,longitude:98.67,zoom:12}),h=Object(r.a)(O,2),m=h[0],x=h[1],p=Object(s.useState)(null),v=Object(r.a)(p,2),f=v[0],N=v[1],k=Object(s.useState)(null),S=Object(r.a)(k,2),C=S[0],w=S[1];Object(s.useEffect)((function(){g().then((function(e){var t=e.data;l(t),y.b.info("Seluruh lokasi vaksin berhasil dimuat")})).catch((function(){y.b.error("ups sepertinya ada kesalahan")}))}),[]);var T=Object(s.useCallback)((function(){console.log("Clicked!"),navigator.geolocation.getCurrentPosition((function(e){var t={lat:e.coords.latitude,long:e.coords.longitude},s={width:"90vw",height:"55vh",latitude:e.coords.latitude,longitude:e.coords.longitude,zoom:14};u(t),c(t.lat,t.long),x(s)}))}),[]);return Object(D.jsx)("div",{className:"peta",children:Object(D.jsxs)(ne.c,Object(o.a)(Object(o.a)({},m),{},{mapStyle:"mapbox://styles/altaha/ckymkxtz8892y16rbbojgb3xu",mapboxApiAccessToken:"pk.eyJ1IjoiYWx0YWhhIiwiYSI6ImNreW1lYnp6bDAxbWcyb2xqZjZsYzYwdWsifQ.7Oezd-XT8iHNi4rr2Jtphw",onViewportChange:function(e){x(e)},children:[Object(D.jsx)("button",{onClick:T,className:"mylocation",children:"Lokasi saya"}),b?Object(D.jsx)(ne.a,{latitude:b.lat,longitude:b.long,children:Object(D.jsx)("button",{className:"iconVaccine",onClick:function(e){e.preventDefault(),w(b)},children:Object(D.jsx)("img",{src:ie,className:"iconVaccine"})})}):null,i.map((function(e){return Object(D.jsx)(ne.a,{latitude:e.Latitude,longitude:e.Longitude,children:Object(D.jsx)("button",{className:"iconVaccine",onClick:function(t){t.preventDefault(),N(e)},children:Object(D.jsx)("img",{src:se,className:"iconVaccine"})})},e.ID)})),C?Object(D.jsx)(ne.b,{latitude:C.lat,longitude:C.long,onClose:function(){w(null)},children:Object(D.jsxs)("div",{className:"peta_description",children:[Object(D.jsxs)("p",{children:["Latitude: ",C.lat]}),Object(D.jsxs)("p",{children:["Longitude: ",C.long]})]})}):null,f?Object(D.jsx)(ne.b,{latitude:f.Latitude,longitude:f.Longitude,onClose:function(){N(null)},children:Object(D.jsxs)("div",{className:"peta_description",children:[Object(D.jsx)("p",{children:f.Location}),Object(D.jsx)("p",{children:f.Description})]})}):null]}))})}var le=function(){var e=Object(s.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)([]),i=Object(r.a)(n,2),j=i[0],b=i[1],O=Object(s.useState)([]),h=Object(r.a)(O,2),m=h[0],p=h[1],v=Object(s.useState)(),f=Object(r.a)(v,2),k=f[0],S=f[1],C=Object(s.useState)(),w=Object(r.a)(C,2),T=w[0],I=w[1];Object(s.useEffect)((function(){g().then((function(e){var t=e.data;a(t),console.log(t),b(t.map((function(e){return{value:e.ID,label:e.Location+" "+e.Address}})))})).catch((function(){console.log("error")}))}),[]);var F=Object(s.useState)({nik:"",fullname:"",phone_number:"",address:"",session_id:""}),L=Object(r.a)(F,2),E=L[0],A=L[1],q=Object(u.c)((function(e){return e})).user,P=function(e){return V()(e).locale("id").format("ll")},_=Object(s.useState)(),J=Object(r.a)(_,2),K=J[0],W=J[1],R=Object(s.useState)(""),Y=Object(r.a)(R,2),U=(Y[0],Y[1],Object(s.useState)("")),M=Object(r.a)(U,2),z=(M[0],M[1],Object(s.useState)("")),H=Object(r.a)(z,2),Z=(H[0],H[1],Object(s.useState)("")),X=Object(r.a)(Z,2),$=(X[0],X[1]),G=function(e){var t=e.target.id,c=e.target.value;A(Object(o.a)(Object(o.a)({},E),{},Object(d.a)({},t,c))),console.log("data: ",E)},Q=Object(s.useCallback)((function(e){e.preventDefault(),0!==E.fullname.length&&0!==E.nik.length&&0!==E.phone_number.length||($(Object(D.jsx)("div",{className:"error-messages",children:Object(D.jsx)("p",{children:"You must fill all fields"})})),e.preventDefault()),E.password!=E.confirmpassword&&$(Object(D.jsx)("div",{className:"error-messages",children:Object(D.jsx)("p",{children:"Password not match"})})),E.session_id=null===T||void 0===T?void 0:T.value,function(e,t){return x.post("/participant",e,{params:{vacId:t}})}(E,null===k||void 0===k?void 0:k.value).then((function(e){y.b.success("pendaftaran berhasil \ud83e\udd29 \ud83e\udd73 ")})).catch((function(e){e.meta.description.forEach((function(e){y.b.warn(e)}))})),e.preventDefault()}),[T,E]),ee=Object(s.useState)(null),ce=Object(r.a)(ee,2),ne=ce[0],ie=ce[1],le=Object(s.useState)(7),je=Object(r.a)(le,2),de=je[0],oe=(je[1],Object(s.useCallback)((function(e,t){console.log(e,t),W({latitude:e,longitude:t}),N({latitude:e,longitude:t,radius:de}).then((function(e){var t=e.data;console.log(t),ie(t)})).catch((function(e){console.log(e.response),y.b.warn("hmm sepertinya ada kesalahan")}))}),[K]));return Object(s.useEffect)((function(){if(I(null),k){for(var e=0;e<c.length;e++){var t=c[e];t.ID==k.value&&p(t.Sessions.map((function(e){var t=e.ID,c=e.Description,s=e.StartTime;return{value:t,label:c+" tanggal "+P(s)+" pukul "+P(s)}})))}console.log(k)}}),[k]),Object(D.jsxs)(D.Fragment,{children:[q?null:Object(D.jsx)(te,{}),Object(D.jsx)(B,{}),Object(D.jsx)("div",{className:"mainmenu-user2",children:Object(D.jsxs)("div",{className:"content",children:[Object(D.jsxs)("div",{className:"peta",children:[Object(D.jsxs)("div",{className:"titlemap",children:[Object(D.jsx)("h1",{children:"Daftar Vaksinasi"}),Object(D.jsx)("button",{className:"iconVaccine",children:Object(D.jsx)("img",{src:se,className:"iconVaccine"})})]}),Object(D.jsx)(re,{updateLocation:oe})]}),Object(D.jsxs)("div",{className:"container-dual",children:[Object(D.jsx)("div",{className:"profile",children:Object(D.jsx)("div",{className:"property",children:ne?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("div",{className:"value",children:[Object(D.jsx)("p",{children:"Rekomendasi lokasi vaksinasi terdekat:"}),Object(D.jsx)("br",{})]}),ne.length>=1?Object(D.jsx)(D.Fragment,{children:ne.map((function(e,t){return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("div",{className:"value",children:[Object(D.jsx)("h4",{children:e.Location}),Object(D.jsx)("p",{children:e.Address}),Object(D.jsx)("br",{})]})})}))}):Object(D.jsx)("div",{className:"value",children:Object(D.jsx)("p",{children:"Tidak ada data untuk ditampilkan"})})]}):Object(D.jsx)("div",{className:"value",children:Object(D.jsxs)("p",{children:["Klik tombol lokasi saya di pojok kiri atas peta untuk melihat lokasi vaksinasi di sekitar"," "]})})})}),Object(D.jsx)("div",{className:"profile",children:Object(D.jsxs)("form",{spellCheck:"false",onSubmit:Q,children:[Object(D.jsx)("p",{children:"Nama"}),Object(D.jsx)("input",{className:"inputuser",type:"text",id:"fullname",onChange:G,value:E.fullname,required:!0}),Object(D.jsx)("p",{children:"NIK"}),Object(D.jsx)("input",{className:"inputuser",type:"number",onChange:G,id:"nik",value:E.nik,required:!0}),Object(D.jsx)("p",{children:"Nomor telepon"}),Object(D.jsx)("input",{className:"inputuser",type:"number",onChange:G,id:"phone_number",value:E.phone_number,required:!0}),Object(D.jsx)("p",{children:"Alamat"}),Object(D.jsx)("input",{className:"inputuser",type:"text",onChange:G,id:"address",value:E.address,required:!0}),Object(D.jsx)("p",{children:"Lokasi Vaksin"}),Object(D.jsx)("div",{className:"dropdown",children:Object(D.jsx)(ae.a,{options:j,value:k,onChange:S,required:!0})}),Object(D.jsx)("p",{children:"Sesi Vaksin"}),Object(D.jsx)("div",{className:"dropdown",children:Object(D.jsx)(ae.a,{options:m,value:T,onChange:I,id:"session_id",required:!0})}),Object(D.jsxs)("div",{className:"dialog-button",children:[Object(D.jsx)(l.b,{to:"/user/landingpage",style:{textDecoration:"inherit"},children:Object(D.jsx)("div",{className:"back",children:"Kembali"})}),Object(D.jsx)("input",{type:"submit",className:"add",value:"Tambah"})]})]})})]})]})})]})},je=function(){var e=Object(s.useState)(null),t=Object(r.a)(e,2),c=t[0],a=t[1],n=Object(u.c)((function(e){return e})).user,i=function(e){return V()(e).format("LT")},j=Object(s.useCallback)((function(){x.get("/participant/user").then((function(e){var t=e.data;console.log(t),a(t),y.b.info("semua data berhasil dimuat")})).catch((function(e){console.log(e.response),y.b.warn("hmm sepertinya ada kesalahan")}))}),[]),d=Object(s.useCallback)((function(e){(function(e){return x.delete("/participant/".concat(e))})(e).then((function(){j(),y.b.info("data partsipan berhasil dihapus")}))}),[]);return Object(s.useEffect)((function(){j()}),[]),c?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(B,{}),Object(D.jsx)("div",{className:"mainmenu-user2",children:Object(D.jsx)("div",{className:"content",children:c.length>0?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h1",{children:"Daftar Vaksinasi Saya"}),Object(D.jsxs)("table",{children:[Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:"No."}),Object(D.jsx)("th",{children:"Nama Partisipan"}),Object(D.jsx)("th",{children:"Lokasi Vaksin"}),Object(D.jsx)("th",{children:"Alamat Vaksin"}),Object(D.jsx)("th",{children:"Jadwal Vaksin"}),Object(D.jsx)("th",{children:"Sesi Vaksin"}),Object(D.jsx)("th",{children:"Keterangan"}),Object(D.jsx)("th",{children:"Edit"})]}),c.map((function(e,t){return Object(D.jsxs)("tr",{children:[Object(D.jsxs)("td",{children:[t+1,"."]}),Object(D.jsx)("td",{children:e.Fullname}),Object(D.jsx)("td",{children:e.Vac.Location}),Object(D.jsx)("td",{children:e.Vac.Address}),Object(D.jsx)("td",{children:(c=e.Session.StartTime,V()(c).locale("id").format("ll"))}),Object(D.jsxs)("td",{children:[e.Session.Description,Object(D.jsx)("br",{}),i(e.Session.StartTime)]}),"registered"==e.Status?Object(D.jsx)("td",{children:Object(D.jsx)(l.b,{to:"/user/ticket/".concat(e.ID),style:{textDecoration:"inherit"},children:Object(D.jsxs)("div",{className:"ubah",children:["Registered",Object(D.jsx)("br",{}),"Lihat Tiket"]})})}):null,"VACCINATED"==e.Status?Object(D.jsx)("td",{colSpan:2,children:Object(D.jsx)("div",{className:"konfirmasi",children:"vaccinated"})}):null,"canceled"==e.Status?Object(D.jsx)("td",{colSpan:2,children:Object(D.jsx)("div",{className:"hapus",children:"canceled"})}):null,"registered"==e.Status?Object(D.jsxs)("td",{children:[Object(D.jsx)(l.b,{to:"/user/updateparticipant/".concat(e.ID),style:{textDecoration:"inherit"},children:Object(D.jsx)("div",{className:"ubah",children:"Edit"})}),Object(D.jsx)("br",{}),Object(D.jsx)("div",{className:"hapus",onClick:function(){return d(e.ID)},children:"Hapus"})]}):null]},t);var c}))]})]}):Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(H,{})})})})]}):Object(D.jsx)(D.Fragment,{children:n?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(B,{}),Object(D.jsx)(I,{})]}):Object(D.jsx)(te,{})})},de=function(){var e=Object(s.useState)({email:"",password:""}),t=Object(r.a)(e,2),c=t[0],a=t[1],n=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,i=Object(s.useState)(""),O=Object(r.a)(i,2),m=O[0],p=O[1],v=Object(s.useState)(""),f=Object(r.a)(v,2),g=f[0],N=(f[1],Object(s.useState)("")),k=Object(r.a)(N,2),S=k[0],C=k[1],w=Object(u.b)(),T=Object(u.c)((function(e){return e})).user,V=function(e){var t=e.target.id,s=e.target.value;"email"===t&&(n.test(s)?p(""):p(Object(D.jsx)("div",{className:"error-messages",children:Object(D.jsx)("p",{children:"Seems like your email not valid"})}))),a(Object(o.a)(Object(o.a)({},c),{},Object(d.a)({},t,s))),console.log("data: ",c)};return Object(D.jsxs)(D.Fragment,{children:[T?Object(D.jsx)(j.a,{to:"/user/profile"}):null,Object(D.jsx)("div",{className:"user-bg-login",children:Object(D.jsx)("div",{className:"loginbox",children:Object(D.jsxs)("div",{className:"grid-container-admin",children:[Object(D.jsx)("div",{className:"login-header",children:Object(D.jsx)("h1",{children:"Login"})}),Object(D.jsx)("div",{className:"login-logo",children:Object(D.jsx)("img",{src:b,alt:"logo"})}),Object(D.jsxs)("div",{className:"login-form",children:[Object(D.jsxs)("form",{spellCheck:"false",onSubmit:function(e){e.preventDefault(),0!==c.email.length&&0!==c.password.length?function(e){return x.post("/users/login",e)}(c).then((function(e){!function(e){localStorage.setItem("vac:token",JSON.stringify(e)),h(e.token),w(ee(e))}(Object(o.a)(Object(o.a)({},e.data),{},{email:c.email})),y.b.success("berhasil login")})).catch((function(e){e.meta.description.forEach((function(e){y.b.error(e)}))})):C(Object(D.jsx)("div",{className:"error-messages",children:Object(D.jsx)("p",{children:"Password can not be empty"})}))},children:[Object(D.jsxs)("div",{className:"inputbox",children:[Object(D.jsx)("input",{type:"text",value:c.email,id:"email",onChange:V,required:!0}),Object(D.jsx)("label",{children:"Email"})]}),Object(D.jsxs)("div",{className:"inputbox",children:[Object(D.jsx)("input",{type:"password",id:"password",value:c.password,onChange:V,required:!0}),Object(D.jsx)("label",{children:"Password"})]}),Object(D.jsx)("button",{type:"submit",children:"Continue"})]}),Object(D.jsxs)("div",{className:"yet-register",children:[Object(D.jsx)(l.c,{to:"/user/register",style:{textDecoration:"none"},children:Object(D.jsx)("span",{children:" create account"})})," ","or"," ",Object(D.jsx)(l.c,{to:"/user/landingpage",style:{textDecoration:"none"},children:Object(D.jsx)("span",{children:" log in as guest"})})]}),Object(D.jsxs)("div",{className:"error-message-container",children:[m,g,S]})]})]})})})]})},oe=function(){var e=Object(u.c)((function(e){return e})).user,t=Object(s.useState)({email:"",password:"",confirmpassword:"",nik:"",name:"",phonenumber:""}),c=Object(r.a)(t,2),a=c[0],n=c[1],i=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,O=Object(s.useState)(""),h=Object(r.a)(O,2),m=h[0],p=h[1],v=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/i,f=Object(s.useState)(""),g=Object(r.a)(f,2),N=g[0],k=g[1],S=/^[a-zA-Z\s]{6,30}$/i,C=Object(s.useState)(""),w=Object(r.a)(C,2),T=w[0],V=w[1],I=/^[0-9]{9,14}$/i,F=Object(s.useState)(""),L=Object(r.a)(F,2),E=L[0],A=L[1],q=/^[0-9]{16,16}$/i,P=Object(s.useState)(""),_=Object(r.a)(P,2),J=_[0],K=_[1],W=Object(s.useState)(""),R=Object(r.a)(W,2),Y=R[0],U=R[1],M=function(e){var t=e.target.id,c=e.target.value;"email"===t&&(i.test(c)?p(""):p(Object(D.jsx)("div",{className:"error-messages",children:Object(D.jsx)("p",{children:"Seems like your email not valid"})}))),"password"===t&&(v.test(c)?k(""):k(Object(D.jsx)("div",{className:"error-messages",children:Object(D.jsx)("p",{children:"Password minimum 8 characters which contain at least 1 number and 1 characters"})}))),"confirmpassword"===t&&(c===a.password?k(""):k(Object(D.jsx)("div",{className:"error-messages",children:Object(D.jsx)("p",{children:"Password not match"})}))),"phonenumber"===t&&(I.test(c)?A(""):A(Object(D.jsx)("div",{className:"error-messages",children:Object(D.jsx)("p",{children:"Phone number must contains 9-14 numbers only"})}))),"nik"===t&&(q.test(c)?K(""):K(Object(D.jsx)("div",{className:"error-messages",children:Object(D.jsx)("p",{children:"NIK must contain 16 numbers"})}))),"name"===t&&(S.test(c)?V(""):V(Object(D.jsx)("div",{className:"error-messages",children:Object(D.jsx)("p",{children:"Fullname only accept 6-30 characters"})}))),n(Object(o.a)(Object(o.a)({},a),{},Object(d.a)({},t,c))),console.log("data: ",a)},z=Object(s.useState)(!1),B=Object(r.a)(z,2),H=B[0],Z=B[1],X=Object(j.g)();return Object(D.jsxs)(D.Fragment,{children:[H?X("/user/login"):null,e?Object(D.jsx)(j.a,{to:"/user/profile"}):null,Object(D.jsx)("div",{className:"user-bg-login",children:Object(D.jsx)("div",{className:"loginbox",children:Object(D.jsxs)("div",{className:"grid-container-admin",children:[Object(D.jsx)("div",{className:"login-header",children:Object(D.jsx)("h1",{children:"Register"})}),Object(D.jsx)("div",{className:"login-logo",children:Object(D.jsx)("img",{src:b,alt:"logo"})}),Object(D.jsxs)("div",{className:"login-form",children:[Object(D.jsxs)("form",{spellCheck:"false",onSubmit:function(e){0!==a.email.length&&0!==a.password.length&&0!==a.name.length&&0!==a.nik.length&&0!==a.phonenumber.length||(U(Object(D.jsx)("div",{className:"error-messages",children:Object(D.jsx)("p",{children:"You must fill all fields"})})),e.preventDefault()),a.password!=a.confirmpassword&&(U(Object(D.jsx)("div",{className:"error-messages",children:Object(D.jsx)("p",{children:"Password not match"})})),e.preventDefault()),function(e){return x.post("/users/register",e)}(a).then((function(e){y.b.success("berhasil daftar"),Z(!0)})).catch((function(e){e.meta.description.forEach((function(e){y.b.error(e)}))})),e.preventDefault()},children:[Object(D.jsxs)("div",{className:"inputbox",children:[Object(D.jsx)("input",{type:"text",value:a.email,id:"email",onChange:M,required:!0}),Object(D.jsx)("label",{children:"Email"})]}),Object(D.jsxs)("div",{className:"inputbox",children:[Object(D.jsx)("input",{type:"text",value:a.nik,id:"nik",onChange:M,required:!0}),Object(D.jsx)("label",{children:"NIK"})]}),Object(D.jsxs)("div",{className:"inputbox",children:[Object(D.jsx)("input",{type:"text",value:a.name,id:"name",onChange:M,required:!0}),Object(D.jsx)("label",{children:"Fullname"})]}),Object(D.jsxs)("div",{className:"inputbox",children:[Object(D.jsx)("input",{type:"text",value:a.phonenumber,id:"phonenumber",onChange:M,required:!0}),Object(D.jsx)("label",{children:"Phone Number"})]}),Object(D.jsxs)("div",{className:"inputbox",children:[Object(D.jsx)("input",{type:"password",id:"password",value:a.password,onChange:M,required:!0}),Object(D.jsx)("label",{children:"Password"})]}),Object(D.jsxs)("div",{className:"inputbox",children:[Object(D.jsx)("input",{type:"password",id:"confirmpassword",value:a.confirmpassword,onChange:M,required:!0}),Object(D.jsx)("label",{children:"Confirm Password"})]}),Object(D.jsx)("button",{children:"Continue"})]}),Object(D.jsxs)("div",{className:"yet-register",children:["Have account?",Object(D.jsx)(l.c,{to:"/user/login",style:{textDecoration:"none"},children:Object(D.jsx)("span",{children:" Login"})}),Object(D.jsx)("br",{}),"or",Object(D.jsx)("br",{}),Object(D.jsx)(l.c,{to:"/user/landingpage",style:{textDecoration:"none"},children:"log in as guest"})]}),Object(D.jsxs)("div",{className:"error-message-container",children:[m,N,Y,T,J,E]})]})]})})})]})},be=function(){var e=Object(s.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1];Object(s.useEffect)((function(){g().then((function(e){var t=e.data;a(t),y.b.info("Seluruh data berhasil ditampilkan")})).catch((function(){y.b.error("oops sepertinya ada kesalahan")}))}),[]);var n=function(e){return V()(e).locale("id").format("ll")},i=function(e){return V()(e).format("LT")};return c?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(B,{}),Object(D.jsx)("div",{className:"mainmenu-user",children:Object(D.jsxs)("div",{className:"content",children:[Object(D.jsx)("h2",{children:"Daftar Vaksinasi yang Akan dilaksanakan"}),Object(D.jsxs)("table",{children:[Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:"No."}),Object(D.jsx)("th",{children:"Deskripsi Vaksin"}),Object(D.jsx)("th",{children:"Lokasi Vaksin"}),Object(D.jsx)("th",{children:"Sesi"}),Object(D.jsx)("th",{children:"Jenis Vaksin"})]}),c.map((function(e,t){return Object(D.jsxs)("tr",{children:[Object(D.jsxs)("td",{children:[t+1,"."]}),Object(D.jsx)("td",{children:e.Description}),Object(D.jsxs)("td",{style:{width:400},children:[e.Location,Object(D.jsx)("br",{}),e.Address]}),Object(D.jsx)("td",{children:e.Sessions.map((function(e,t){return Object(D.jsxs)(D.Fragment,{children:[e.Description,": ",Object(D.jsx)("br",{}),n(e.StartTime)," - ",n(e.EndTime)," ",Object(D.jsx)("br",{}),i(e.StartTime)," "," - ",i(e.EndTime),Object(D.jsx)("br",{}),Object(D.jsx)("br",{})]})}))}),Object(D.jsx)("td",{children:e.VacType})]},t)}))]})]})})]}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(B,{}),Object(D.jsx)(I,{})]})},ue=function(){var e=Object(u.c)((function(e){return e})).user;return Object(D.jsx)(D.Fragment,{children:e?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(B,{}),Object(D.jsx)("div",{className:"mainmenu-user2",children:Object(D.jsxs)("div",{className:"content",children:[Object(D.jsx)("p",{className:"paragraph",children:"Persyaratan vaksinasi:"}),Object(D.jsxs)("ol",{children:[Object(D.jsx)("li",{children:"Berusia 12 tahun ke atas"}),Object(D.jsx)("li",{children:"Sehat"}),Object(D.jsx)("li",{children:"Memiliki KTP/Kartu Keluarga"}),Object(D.jsx)("li",{children:"Tidak sedang positif COVID-19"})]}),Object(D.jsxs)("div",{className:"dialog-button",children:[Object(D.jsx)(l.b,{to:"/user/landingpage",style:{textDecoration:"inherit"},children:Object(D.jsx)("div",{className:"back",children:"Kembali"})}),Object(D.jsx)(l.b,{to:"/user/reg-vaccine",style:{textDecoration:"inherit"},children:Object(D.jsx)("div",{className:"add",children:"Lanjut"})})]})]})})]}):Object(D.jsx)(te,{})})},Oe=c(101),he=c.n(Oe),me=(c(186),function(){var e,t=Object(s.useState)(null),c=Object(r.a)(t,2),n=c[0],i=c[1],l=Object(j.h)().id,d=a.a.createRef();return Object(s.useEffect)((function(){k(l).then((function(e){var t=e.data;console.log(t),i(t),y.b.info("data berhasil dimuat")})).catch((function(e){console.log(e.response),y.b.warn("hmm sepertinya ada kesalahan")}))}),[]),Object(D.jsxs)("div",{children:[Object(D.jsx)(B,{}),Object(D.jsx)("div",{className:"mainmenu-user2",children:Object(D.jsx)("div",{className:"content",ref:d,children:Object(D.jsxs)("div",{className:"container-dual",children:[Object(D.jsxs)("div",{className:"profile",children:[Object(D.jsx)("h1",{children:"Tiket Vaksinasi"}),Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Nama Partisipan"}),Object(D.jsx)("div",{className:"value",children:null===n||void 0===n?void 0:n.Fullname})]}),Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"NIK"}),Object(D.jsx)("div",{className:"value",children:null===n||void 0===n?void 0:n.Nik})]}),Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Alamat"}),Object(D.jsx)("div",{className:"value",children:null===n||void 0===n?void 0:n.Address})]}),Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Nomor Telepon"}),Object(D.jsx)("div",{className:"value",children:null===n||void 0===n?void 0:n.PhoneNumber})]}),Object(D.jsx)("div",{className:"property",children:Object(D.jsx)("div",{className:"add",children:Object(D.jsx)(he.a,{targetRef:d,filename:"tiket-vaksin.pdf",x:1.2,y:1.2,scale:1.6,options:{orientation:"landscape",unit:"in",format:[20,10]},children:function(e){var t=e.toPdf;return Object(D.jsx)("div",{onClick:t,children:"Unduh pdf"})}})})})]}),Object(D.jsxs)("div",{className:"profile",children:[Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Nomor Vaksin"}),Object(D.jsxs)("div",{className:"value",children:[null===n||void 0===n?void 0:n.Vac.ID,null===n||void 0===n?void 0:n.SessionID,null===n||void 0===n?void 0:n.UserID,null===n||void 0===n?void 0:n.ID]})]}),Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Lokasi Vaksin"}),Object(D.jsxs)("div",{className:"value",children:[null===n||void 0===n?void 0:n.Vac.Location,Object(D.jsx)("br",{}),null===n||void 0===n?void 0:n.Vac.Address]})]}),Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Jadwal Vaksin"}),Object(D.jsx)("div",{className:"value",children:(e=null===n||void 0===n?void 0:n.Session.StartTime,V()(e).locale("id").format("ll"))})]}),Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Sesi Vaksin"}),Object(D.jsxs)("div",{className:"value",children:[null===n||void 0===n?void 0:n.Session.Description,Object(D.jsx)("br",{}),function(e){return V()(e).format("LT")}(null===n||void 0===n?void 0:n.Session.StartTime)]})]})]})]})})})]})}),xe=[{value:"RS USU",label:"RS USU"},{value:"RS Bhayangkara",label:"RS Bhayangkara"},{value:"RS Permata",label:"RS Permata"}],pe=[{value:"11 Januari 2022",label:"11 Januari 2022"}],ve=[{value:"Sesi 1. 07:00 - 12:00",label:"Sesi 1. 07:00 - 12:00"},{value:"Sesi 2. 13:00 - 16.00",label:"Sesi 2. 13:00 - 16.00"}],fe=function(){var e=Object(s.useState)({email:"",password:"",confirmpassword:"",nik:"",fullname:"",phonenumber:""}),t=Object(r.a)(e,2),c=(t[0],t[1],Object(s.useState)("")),a=Object(r.a)(c,2),n=(a[0],a[1],Object(s.useState)("")),i=Object(r.a)(n,2),j=(i[0],i[1],Object(s.useState)("")),d=Object(r.a)(j,2),o=(d[0],d[1],Object(s.useState)("")),b=Object(r.a)(o,2),u=(b[0],b[1],Object(s.useState)("")),O=Object(r.a)(u,2),h=(O[0],O[1],Object(s.useState)("")),m=Object(r.a)(h,2);m[0],m[1];return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(B,{}),Object(D.jsx)("div",{className:"mainmenu-user2",children:Object(D.jsx)("div",{className:"content",children:Object(D.jsxs)("div",{className:"container-dual",children:[Object(D.jsxs)("div",{className:"profile",children:[Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Nama partisipan"}),Object(D.jsx)("div",{className:"value",children:"Altaha"})]}),Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Lokasi vaksin sebelumnya"}),Object(D.jsx)("div",{className:"value",children:"RS Universitas Sumatera Utara Jl. Dr. Mansyur No.66, Merdeka, Kec. Medan Baru, Kota Medan, Sumatera Utara 20154"})]}),Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Jadwal vaksin sebelumnya"}),Object(D.jsx)("div",{className:"value",children:"11 Januari 2022"})]}),Object(D.jsxs)("div",{className:"property",children:[Object(D.jsx)("div",{className:"field",children:"Sesi vaksin sebelumnya"}),Object(D.jsx)("div",{className:"value",children:"Sesi 1, 08.00-12.00 WIB"})]})]}),Object(D.jsx)("div",{className:"profile",children:Object(D.jsxs)("form",{children:[Object(D.jsx)("p",{children:"Nama"}),Object(D.jsx)("input",{className:"inputuser",type:"text",name:"nama",min:"10",max:"100",required:!0}),Object(D.jsx)("p",{children:"NIK"}),Object(D.jsx)("input",{className:"inputuser",type:"number",name:"nik",min:"10",max:"100",required:!0}),Object(D.jsx)("p",{children:"Nomor telepon"}),Object(D.jsx)("input",{className:"inputuser",type:"number",name:"nomor_telepon",min:"10",max:"100",required:!0}),Object(D.jsx)("p",{children:"Alamat"}),Object(D.jsx)("input",{className:"inputuser",type:"text",name:"alamat",min:"10",max:"100",required:!0}),Object(D.jsx)("p",{children:"Lokasi Vaksin"}),Object(D.jsx)("div",{className:"dropdown",children:Object(D.jsx)(ae.a,{options:xe})}),Object(D.jsx)("p",{children:"Jadwal Vaksin"}),Object(D.jsx)("div",{className:"dropdown",children:Object(D.jsx)(ae.a,{options:pe})}),Object(D.jsx)("p",{children:"Sesi Vaksin"}),Object(D.jsx)("div",{className:"dropdown",children:Object(D.jsx)(ae.a,{options:ve})}),Object(D.jsxs)("div",{className:"dialog-button",children:[Object(D.jsx)(l.b,{to:"/user/landingpage",style:{textDecoration:"inherit"},children:Object(D.jsx)("div",{className:"back",children:"Kembali"})}),Object(D.jsx)("input",{type:"submit",className:"add",value:"Tambah"})]})]})})]})})})]})},ge=function(){var e=Object(s.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],n=Object(u.c)((function(e){return e})).admin,i=Object(s.useCallback)((function(){var e;(e=n.ID,x.get("/vacbyadmin/".concat(e))).then((function(e){var t=e.data;a(t)})).catch((function(){y.b.error("oops sepertinya ada kesalahan")}))}),[]),d=Object(s.useCallback)((function(e){(function(e){return x.delete("/vac/".concat(e))})(e).then((function(){return i()}))}),[]);Object(s.useEffect)((function(){i()}),[]);var o=function(e){return V()(e).locale("id").format("ll")},b=function(e){return V()(e).format("LT")};return n?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(w,{}),Object(D.jsx)("div",{className:"mainmenu-admin",children:Object(D.jsx)("div",{className:"content",children:c?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h2",{children:"Daftar Vaksinasi Saya"}),Object(D.jsx)(l.b,{to:"/admin/add-vaccination",style:{textDecoration:"inherit"},children:Object(D.jsx)("div",{className:"add",children:"Tambah Vaksinasi"})}),Object(D.jsx)("br",{}),Object(D.jsxs)("table",{children:[Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:"No."}),Object(D.jsx)("th",{children:"Deskripsi Vaksin"}),Object(D.jsx)("th",{children:"Lokasi Vaksin"}),Object(D.jsx)("th",{children:"Sesi"}),Object(D.jsx)("th",{children:"Vaksin"}),Object(D.jsx)("th",{children:"Partisipan"}),Object(D.jsx)("th",{children:"Edit"})]}),c.map((function(e,t){return Object(D.jsxs)("tr",{children:[Object(D.jsxs)("td",{children:[t+1,"."]}),Object(D.jsx)("td",{children:e.Description}),Object(D.jsxs)("td",{style:{width:400},children:[e.Location,Object(D.jsx)("br",{}),e.Address]}),Object(D.jsx)("td",{children:e.Sessions.map((function(e,t){return Object(D.jsxs)(D.Fragment,{children:[e.Description,": ",Object(D.jsx)("br",{}),o(e.StartTime)," - ",o(e.EndTime)," ",Object(D.jsx)("br",{}),b(e.StartTime)," "," - ",b(e.EndTime),Object(D.jsx)("br",{}),Object(D.jsx)("br",{})]})}))}),Object(D.jsxs)("td",{children:[e.VacType,Object(D.jsx)("br",{}),"Stok vaksin: ",e.Stock]}),Object(D.jsx)("td",{children:Object(D.jsx)(l.b,{to:"/admin/participant/".concat(e.ID),style:{textDecoration:"inherit"},children:Object(D.jsx)("div",{className:"ubah",children:"Lihat"})})}),Object(D.jsxs)("td",{children:[Object(D.jsx)(l.b,{to:"/admin/editvac/".concat(e.ID),style:{textDecoration:"inherit"},children:Object(D.jsx)("div",{className:"ubah",children:"Ubah"})}),Object(D.jsx)("div",{className:"hapus",onClick:function(){return d(e.ID)},children:"Hapus"})]})]},t)}))]})]}):Object(D.jsx)("h2",{children:"Tidak ada kegiatan vaksinasi"})})})]}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(j.a,{to:"/admin/login"}),y.b.info("anda harus login sebagai admin")]})},Ne=function(){var e=Object(s.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)([]),i=Object(r.a)(n,2),b=i[0],O=i[1],h=Object(s.useState)([]),m=Object(r.a)(h,2),p=m[0],v=m[1],f=Object(s.useState)(),C=Object(r.a)(f,2),w=C[0],T=C[1],I=Object(s.useState)(),F=Object(r.a)(I,2),L=F[0],E=F[1],A=Object(j.h)().id,q=Object(s.useState)({id:0,nik:"",fullname:"",phone_number:"",address:"",session_id:""}),P=Object(r.a)(q,2),_=P[0],J=P[1],K=Object(u.c)((function(e){return e})).user,W=Object(s.useCallback)((function(){k(A).then((function(e){var t=e.data;console.log(t),J({id:t.ID,nik:t.Nik,fullname:t.Fullname,phone_number:t.PhoneNumber,address:t.Address,session_id:t.SessionID}),T({value:t.Vac.ID,label:t.Vac.Location+" "+t.Vac.Address}),S(t.Vac.ID).then((function(e){var t=e.data;v(t.Sessions.map((function(e){var t=e.ID,c=e.Description,s=e.StartTime;return{value:t,label:c+" tanggal "+R(s)+" pukul "+R(s)}})))})).then((function(){E({value:t.Session.ID,label:t.Session.Description+" tanggal "+R(t.Session.StartTime)+" pukul "+R(t.Session.StartTime)})})),E({value:t.Session.ID,label:t.Session.Description+" tanggal "+R(t.Session.StartTime)+" pukul "+R(t.Session.StartTime)})})).catch((function(){y.b.error("oops sepertinya ada kesalahan")}))}),[L,w,_]);Object(s.useEffect)((function(){W()}),[]),Object(s.useEffect)((function(){g().then((function(e){var t=e.data;a(t),console.log(t),O(t.map((function(e){return{value:e.ID,label:e.Location+" "+e.Address}})))})).catch((function(){console.log("error")}))}),[]);var R=function(e){return V()(e).locale("id").format("ll")},Y=Object(s.useState)(),U=Object(r.a)(Y,2),M=U[0],z=U[1],H=Object(s.useState)(""),Z=Object(r.a)(H,2),X=(Z[0],Z[1],Object(s.useState)("")),$=Object(r.a)(X,2),G=($[0],$[1],Object(s.useState)("")),Q=Object(r.a)(G,2),ee=(Q[0],Q[1],Object(s.useState)("")),ce=Object(r.a)(ee,2),ne=(ce[0],ce[1]),ie=function(e){var t=e.target.id,c=e.target.value;J(Object(o.a)(Object(o.a)({},_),{},Object(d.a)({},t,c))),console.log("data: ",_)},le=Object(s.useCallback)((function(e){e.preventDefault(),0!==_.fullname.length&&0!==_.nik.length&&0!==_.phone_number.length||(ne(Object(D.jsx)("div",{className:"error-messages",children:Object(D.jsx)("p",{children:"Semua data harus diisi"})})),e.preventDefault()),_.session_id=null===L||void 0===L?void 0:L.value,function(e){return x.put("/participant",e)}(_,null===w||void 0===w||w.value).then((function(e){y.b.success("Berhasil mengubah data \ud83e\udd73 ")})).catch((function(e){e.meta.description.forEach((function(e){y.b.warn(e)}))})),e.preventDefault()}),[L,_]),je=Object(s.useState)(null),de=Object(r.a)(je,2),oe=de[0],be=de[1],ue=Object(s.useState)(7),Oe=Object(r.a)(ue,2),he=Oe[0],me=(Oe[1],Object(s.useCallback)((function(e,t){console.log(e,t),z({latitude:e,longitude:t}),N({latitude:e,longitude:t,radius:he}).then((function(e){var t=e.data;console.log(t),be(t)})).catch((function(e){console.log(e.response),y.b.warn("hmm sepertinya ada kesalahan")}))}),[M]));return Object(s.useEffect)((function(){if(E(null),w){for(var e=0;e<c.length;e++){var t=c[e];t.ID==w.value&&v(t.Sessions.map((function(e){var t=e.ID,c=e.Description,s=e.StartTime;return{value:t,label:c+" tanggal "+R(s)+" pukul "+R(s)}})))}console.log(w)}}),[w]),Object(D.jsxs)(D.Fragment,{children:[K?null:Object(D.jsx)(te,{}),Object(D.jsx)(B,{}),Object(D.jsx)("div",{className:"mainmenu-user2",children:Object(D.jsxs)("div",{className:"content",children:[Object(D.jsxs)("div",{className:"peta",children:[Object(D.jsxs)("div",{className:"titlemap",children:[Object(D.jsx)("h1",{children:"Edit Vaksinasi"}),Object(D.jsx)("button",{className:"iconVaccine",children:Object(D.jsx)("img",{src:se,className:"iconVaccine"})})]}),Object(D.jsx)(re,{updateLocation:me})]}),Object(D.jsxs)("div",{className:"container-dual",children:[Object(D.jsx)("div",{className:"profile",children:Object(D.jsx)("div",{className:"property",children:oe?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("div",{className:"value",children:[Object(D.jsx)("p",{children:"Rekomendasi lokasi vaksinasi terdekat:"}),Object(D.jsx)("br",{})]}),oe.length>=1?Object(D.jsx)(D.Fragment,{children:oe.map((function(e,t){return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("div",{className:"value",children:[Object(D.jsx)("h4",{children:e.Location}),Object(D.jsx)("p",{children:e.Address}),Object(D.jsx)("br",{})]})})}))}):Object(D.jsx)("div",{className:"value",children:Object(D.jsx)("p",{children:"Tidak ada data untuk ditampilkan"})})]}):Object(D.jsx)("div",{className:"value",children:Object(D.jsxs)("p",{children:["Klik tombol lokasi saya di pojok kiri atas peta untuk melihat lokasi vaksinasi di sekitar"," "]})})})}),Object(D.jsx)("div",{className:"profile",children:Object(D.jsxs)("form",{spellCheck:"false",onSubmit:le,children:[Object(D.jsx)("p",{children:"Nama"}),Object(D.jsx)("input",{className:"inputuser",type:"text",id:"fullname",onChange:ie,value:_.fullname,required:!0}),Object(D.jsx)("p",{children:"NIK"}),Object(D.jsx)("input",{className:"inputuser",type:"number",onChange:ie,id:"nik",value:_.nik,required:!0}),Object(D.jsx)("p",{children:"Nomor telepon"}),Object(D.jsx)("input",{className:"inputuser",type:"number",onChange:ie,id:"phone_number",value:_.phone_number,required:!0}),Object(D.jsx)("p",{children:"Alamat"}),Object(D.jsx)("input",{className:"inputuser",type:"text",onChange:ie,id:"address",value:_.address,required:!0}),Object(D.jsx)("p",{children:"Lokasi Vaksin"}),Object(D.jsx)("div",{className:"dropdown",children:Object(D.jsx)(ae.a,{options:b,value:w,onChange:T,required:!0})}),Object(D.jsx)("p",{children:"Sesi Vaksin"}),Object(D.jsx)("div",{className:"dropdown",children:Object(D.jsx)(ae.a,{options:p,value:L,onChange:E,id:"session_id",required:!0})}),Object(D.jsxs)("div",{className:"dialog-button",children:[Object(D.jsx)(l.b,{to:"/user/profile",style:{textDecoration:"inherit"},children:Object(D.jsx)("div",{className:"back",children:"Batal"})}),Object(D.jsx)("input",{type:"submit",className:"add",value:"Ubah"})]})]})})]})]})})]})};var ke=function(){var e=Object(u.b)(),t=Object(s.useState)(!1),c=Object(r.a)(t,2),a=c[0],n=c[1];return Object(s.useEffect)((function(){if(localStorage.getItem("vac:token")){var t=JSON.parse(localStorage.getItem("vac:token"));h(t.token),e(ee(t)),n(!0)}else n(!0)}),[]),Object(s.useEffect)((function(){if(localStorage.getItem("vac:token-admin")){var t=JSON.parse(localStorage.getItem("vac:token-admin"));h(t.Token),e(f(t)),n(!0)}else n(!0)}),[]),a?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(L,{}),Object(D.jsx)(l.a,{children:Object(D.jsxs)(j.d,{children:[Object(D.jsx)(j.b,{path:"/admin/login",element:Object(D.jsx)(C,{})}),Object(D.jsx)(j.b,{path:"/admin/main-menu",element:Object(D.jsx)(F,{})}),Object(D.jsx)(j.b,{path:"/admin/ownvac",element:Object(D.jsx)(ge,{})}),Object(D.jsx)(j.b,{path:"/admin/add-vaccination",element:Object(D.jsx)(_,{})}),Object(D.jsx)(j.b,{path:"/admin/news",element:Object(D.jsx)(R,{})}),Object(D.jsx)(j.b,{path:"/admin/profile",element:Object(D.jsx)(Y,{})}),Object(D.jsx)(j.b,{path:"/admin/edit-vaccination",element:Object(D.jsx)(U,{})}),Object(D.jsx)(j.b,{path:"/admin/test",element:Object(D.jsx)(R,{})}),Object(D.jsx)(j.b,{path:"/admin/participant/:id",element:Object(D.jsx)(Z,{})}),Object(D.jsx)(j.b,{path:"/admin/editvac/:id",element:Object(D.jsx)(U,{})}),Object(D.jsx)(j.b,{path:"*",element:Object(D.jsx)(X,{})}),Object(D.jsx)(j.b,{path:"/user/landingpage",element:Object(D.jsx)($,{})}),Object(D.jsx)(j.b,{path:"/user/profile",element:Object(D.jsx)(ce,{})}),Object(D.jsx)(j.b,{path:"/user/reg-vaccine",element:Object(D.jsx)(le,{})}),Object(D.jsx)(j.b,{path:"/user/info-vacc",element:Object(D.jsx)(je,{})}),Object(D.jsx)(j.b,{path:"/user/login",element:Object(D.jsx)(de,{})}),Object(D.jsx)(j.b,{path:"/user/register",element:Object(D.jsx)(oe,{})}),Object(D.jsx)(j.b,{path:"/user/vaccine-list",element:Object(D.jsx)(be,{})}),Object(D.jsx)(j.b,{path:"/user/yet-login",element:Object(D.jsx)(te,{})}),Object(D.jsx)(j.b,{path:"/user/agreement",element:Object(D.jsx)(ue,{})}),Object(D.jsx)(j.b,{path:"/user/ticket/:id",element:Object(D.jsx)(me,{})}),Object(D.jsx)(j.b,{path:"/user/edit-vaccination",element:Object(D.jsx)(fe,{})}),Object(D.jsx)(j.b,{path:"/user/updateparticipant/:id",element:Object(D.jsx)(Ne,{})})]})}),Object(D.jsx)(y.a,{position:"top-right",autoClose:5e3})]}):null},Se=function(e){e&&e instanceof Function&&c.e(6).then(c.bind(null,344)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),s(e),a(e),n(e),i(e)}))},ye=c(54),De=Object(ye.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(o.a)(Object(o.a)({},e),t.payload);case Q:return localStorage.removeItem("vac:token"),null;default:return e}},admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(o.a)(Object(o.a)({},e),t.payload);case v:return localStorage.removeItem("vac:token-admin"),null;default:return e}}}),Ce=function(e){return Object(ye.b)(De,"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})};i.a.render(Object(D.jsx)(u.a,{store:Ce(),children:Object(D.jsx)(ke,{})}),document.getElementById("root")),Se()}},[[189,1,2]]]);
//# sourceMappingURL=main.6e98fa4a.chunk.js.map