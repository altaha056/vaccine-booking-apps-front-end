(this.webpackJsonpfe=this.webpackJsonpfe||[]).push([[0],{109:function(e,t,c){},136:function(e,t,c){},17:function(e,t,c){},189:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(20),i=c.n(s),r=(c(109),c(3)),l=c(5),j=c(9),d=c(4),o=c(8),b=(c(17),c.p+"static/media/logo.2afcdafe.svg"),u=c(10),O=c(26),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?x.defaults.headers.common.Authorization="bearer ".concat(e):delete x.defaults.headers.common.Authorization},m=c.n(O).a.create({baseURL:"".concat("http://localhost:8000")});m.interceptors.response.use((function(e){return e.data}),(function(e){if(e&&e.response)return 401===e.response.status||400===e.response.data?("sesi kamu sudah habis, yuk login lagi",localStorage.removeItem("vac:token"),void(window.location.href="/user/login")):Promise.reject(e.response.data)}));var x=m,p="UPDATE_PROFILE_ADMIN",v="LOGOUT_ADMIN",f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:p,payload:e}},g=function(){return x.get("/vacs")},N=function(e){return x.post("/near",e)},k=function(e,t){return x.post("/participant",e,{params:{vacId:t}})},S=function(e){return x.get("/participant/".concat(e))},y=function(e){return x.get("/vac/".concat(e))},D=c(6),C=c(0),w=function(){var e=Object(a.useState)({email:"",password:""}),t=Object(r.a)(e,2),c=t[0],n=t[1],s=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,i=Object(a.useState)(""),l=Object(r.a)(i,2),O=l[0],m=l[1],p=Object(a.useState)(""),v=Object(r.a)(p,2),g=v[0],N=(v[1],Object(a.useState)("")),k=Object(r.a)(N,2),S=k[0],y=k[1],w=Object(u.b)(),T=Object(u.c)((function(e){return e})).admin,L=function(e){var t=e.target.id,a=e.target.value;"email"===t&&(s.test(a)?m(""):m(Object(C.jsx)("div",{className:"error-messages",children:Object(C.jsx)("p",{children:"Seems like your email not valid"})}))),n(Object(o.a)(Object(o.a)({},c),{},Object(d.a)({},t,a))),console.log("data: ",c)};return Object(C.jsxs)(C.Fragment,{children:[T?Object(C.jsx)(j.a,{to:"/admin/profile"}):null,Object(C.jsx)("div",{className:"admin-bg-login",children:Object(C.jsx)("div",{className:"loginbox",children:Object(C.jsxs)("div",{className:"grid-container-admin",children:[Object(C.jsx)("div",{className:"login-header",children:Object(C.jsx)("h1",{children:"Login"})}),Object(C.jsx)("div",{className:"login-logo",children:Object(C.jsx)("img",{src:b,alt:"logo"})}),Object(C.jsxs)("div",{className:"login-form",children:[Object(C.jsxs)("form",{spellCheck:"false",onSubmit:function(e){e.preventDefault(),0!==c.email.length&&0!==c.password.length?function(e){return x.post("/admin/login",e)}(c).then((function(e){var t;t=Object(o.a)(Object(o.a)({},e.data),{},{email:c.email}),localStorage.setItem("vac:token-admin",JSON.stringify(t)),h(t.Token),w(f(t)),D.b.success("berhasil login")})).catch((function(e){e.meta.description.forEach((function(e){console.log(e),D.b.error(e)}))})):y(Object(C.jsx)("div",{className:"error-messages",children:Object(C.jsx)("p",{children:"Password can not be empty"})}))},children:[Object(C.jsxs)("div",{className:"inputbox",children:[Object(C.jsx)("input",{type:"text",value:c.email,id:"email",onChange:L,required:!0}),Object(C.jsx)("label",{children:"Email"})]}),Object(C.jsxs)("div",{className:"inputbox",children:[Object(C.jsx)("input",{type:"password",id:"password",value:c.password,onChange:L,required:!0}),Object(C.jsx)("label",{children:"Password"})]}),Object(C.jsx)("button",{type:"submit",children:"Continue"})]}),Object(C.jsxs)("div",{className:"error-message-container",children:[O,g,S]})]})]})})})]})},T=function(){return Object(C.jsxs)("div",{className:"header",children:[Object(C.jsxs)("div",{className:"navbar",children:[Object(C.jsx)(l.c,{to:"/admin/main-menu",style:function(e){return e.isActive?{color:"#006d7c",fontWeight:"600",textDecoration:"none"}:{color:"#b7b7b7",textDecoration:"none"}},children:Object(C.jsx)("div",{className:"item",children:"Daftar Program Vaksinasi"})}),Object(C.jsx)(l.c,{to:"/admin/ownvac",className:"item",style:function(e){return e.isActive?{color:"#006d7c",fontWeight:"600",textDecoration:"none"}:{color:"#b7b7b7",textDecoration:"none"}},children:Object(C.jsx)("div",{className:"item",children:"Vaksinasi oleh Saya"})}),Object(C.jsx)(l.c,{to:"/admin/news",className:"item",style:function(e){return e.isActive?{color:"#006d7c",fontWeight:"600",textDecoration:"none"}:{color:"#b7b7b7",textDecoration:"none"}},children:Object(C.jsx)("div",{className:"item",children:"Berita Vaksinasi"})})]}),Object(C.jsx)(l.c,{to:"/admin/profile",style:function(e){return e.isActive?{color:"#006d7c",fontWeight:"600",textDecoration:"none"}:{color:"#b7b7b7",textDecoration:"none"}},className:"profile",children:Object(C.jsx)("div",{className:"item",children:"Admin Altaha"})})]})},L=c(13),V=c.n(L),I=function(){return Object(C.jsx)("div",{className:"loading-div",children:Object(C.jsx)("div",{className:"loading-child",children:"Loading..."})})},F=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],n=t[1],s=Object(u.c)((function(e){return e})).admin;Object(a.useEffect)((function(){g().then((function(e){var t=e.data;n(t),D.b.info("Seluruh data berhasil dimuat")})).catch((function(){D.b.error("oops sepertinya ada kesalahan")}))}),[]);var i=function(e){return V()(e).locale("id").format("ll")},l=function(e){return V()(e).format("LT")};return s?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(T,{}),Object(C.jsx)("div",{className:"mainmenu-admin",children:Object(C.jsx)("div",{className:"content",children:c?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h2",{children:"Daftar Seluruh Program Vaksinasi"}),Object(C.jsxs)("table",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"No."}),Object(C.jsx)("th",{children:"Deskripsi Vaksin"}),Object(C.jsx)("th",{children:"Lokasi Vaksin"}),Object(C.jsx)("th",{children:"Sesi"}),Object(C.jsx)("th",{children:"Vaksin"})]}),c.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[t+1,"."]}),Object(C.jsx)("td",{children:e.Description}),Object(C.jsxs)("td",{style:{width:400},children:[e.Location,Object(C.jsx)("br",{}),e.Address]}),Object(C.jsx)("td",{children:e.Sessions.map((function(e,t){return Object(C.jsxs)(C.Fragment,{children:[e.Description,": ",Object(C.jsx)("br",{}),i(e.StartTime)," - ",i(e.EndTime)," ",Object(C.jsx)("br",{}),l(e.StartTime)," "," - ",l(e.EndTime),Object(C.jsx)("br",{}),Object(C.jsx)("br",{})]})}))}),Object(C.jsxs)("td",{children:[e.VacType,Object(C.jsx)("br",{}),"Stok vaksin: ",e.Stock]})]},t)}))]})]}):Object(C.jsx)("h2",{children:"Tidak ada kegiatan vaksinasi"})})})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(j.a,{to:"/admin/login"}),D.b.info("anda harus login sebagai admin")]})},E=function(){return Object(C.jsx)("div",{className:"footer",children:Object(C.jsx)("img",{src:b,alt:"footer"})})},A=c(15),q=c(25),P=c.n(q);c(73);function _(e){var t=e.onChangePlace,c=void 0===t?function(e){}:t,n=Object(a.useRef)(null),s=Object(a.useRef)(null),i=Object(a.useState)(100),l=Object(r.a)(i,2),j=l[0],d=l[1],o=Object(a.useState)(0),b=Object(r.a)(o,2),u=b[0],O=b[1],h=Object(a.useState)(5),m=Object(r.a)(h,2),x=m[0],p=m[1],v=Object(a.useState)(),f=Object(r.a)(v,2),g=f[0],N=f[1];return Object(a.useEffect)((function(){s.current||(s.current=new P.a.Map({container:n.current,style:"mapbox://styles/mapbox/streets-v11",center:[j,u],zoom:x}),s.current.on("click",(function(e){var t=e.lngLat,c=t.lat,a=t.lng;fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(a,",").concat(c,".json?limit=1&types=poi%2Ccountry%2Cregion%2Caddress%2Cneighborhood%2Cplace%2Cpostcode%2Clocality%2Cdistrict&access_token=pk.eyJ1IjoiYWx0YWhhIiwiYSI6ImNreW1lYnp6bDAxbWcyb2xqZjZsYzYwdWsifQ.7Oezd-XT8iHNi4rr2Jtphw")).then((function(e){if(200===e.status)return e.json()})).then((function(e){N(e.features[0])}))})))}),[]),Object(a.useEffect)((function(){c(g)}),[g]),Object(a.useEffect)((function(){s.current&&s.current.on("move",(function(){d(s.current.getCenter().lng.toFixed(4)),O(s.current.getCenter().lat.toFixed(4)),p(s.current.getZoom().toFixed(2))}))})),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{children:Object(C.jsx)("div",{ref:n,className:"map-container"})})})}P.a.accessToken="pk.eyJ1IjoiYWx0YWhhIiwiYSI6ImNreW1lYnp6bDAxbWcyb2xqZjZsYzYwdWsifQ.7Oezd-XT8iHNi4rr2Jtphw";var J=function(){var e=Object(a.useState)([{Description:"",StartTime:"",EndTime:""}]),t=Object(r.a)(e,2),c=t[0],n=t[1],s=function(e,t){var a=e.target,s=a.name,i=a.value,r=Object(A.a)(c);r[t][s]=i,n(r)},i=Object(u.c)((function(e){return e})).admin,l=Object(a.useState)({description:"",location:"",address:"",latitude:0,longitude:0,sessions:[],vacType:"",stock:1}),b=Object(r.a)(l,2),O=b[0],h=b[1],m=function(e){var t=e.target.id,c="number"==e.target.type?Number(e.target.value):e.target.value;h(Object(o.a)(Object(o.a)({},O),{},Object(d.a)({},t,c)))},p=Object(a.useCallback)((function(e){e.preventDefault(),function(e){return x.post("/vac",e)}(O).then((function(e){D.b.success("berhasil menambahkan kegiatan vaksinasi baru"),window.location.href="/admin/ownvac"})).catch((function(e){e.meta.description.forEach((function(e){D.b.warn(e)}))}))}),[O]),v=Object(a.useCallback)((function(e){console.log(e),e&&h(Object(o.a)(Object(o.a)({},O),{},{address:e.place_name,latitude:e.center[1],longitude:e.center[0],location:e.text}))}),[O]),f=Object(a.useCallback)((function(){n([].concat(Object(A.a)(c),[{Description:"",StartTime:"",EndTime:""}]))}),[c]);return Object(a.useEffect)((function(){h(Object(o.a)(Object(o.a)({},O),{},{sessions:c}))}),[c]),Object(C.jsx)(C.Fragment,{children:i?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(T,{}),";",Object(C.jsx)("div",{className:"mainmenu-admin",children:Object(C.jsxs)("div",{className:"content",children:[Object(C.jsx)("h2",{children:"Tambah Kegiatan Vaksinasi Baru"}),Object(C.jsx)("form",{spellCheck:"false",onSubmit:p,children:Object(C.jsxs)("div",{className:"container-dual",children:[Object(C.jsxs)("div",{className:"profile",children:[Object(C.jsx)(_,{onChangePlace:v}),Object(C.jsx)("br",{}),Object(C.jsx)("p",{children:"Deskripsi Vaksinasi"}),Object(C.jsx)("textarea",{className:"inputpeta",type:"text",id:"description",onChange:m,value:O.description,required:!0}),Object(C.jsx)("p",{children:"Jenis Vaksin"}),Object(C.jsx)("input",{className:"inputuser",type:"text",id:"vacType",onChange:m,value:O.vacType,required:!0}),Object(C.jsx)("p",{children:"Stok Vaksin"}),Object(C.jsx)("input",{className:"inputuser",type:"number",id:"stock",onChange:m,value:O.stock,required:!0})]}),Object(C.jsxs)("div",{className:"profile",children:[Object(C.jsx)("p",{children:"Lokasi"}),Object(C.jsx)("input",{className:"inputuser",type:"text",id:"location",onChange:m,value:O.location,required:!0}),Object(C.jsx)("p",{children:"Alamat"}),Object(C.jsx)("textarea",{className:"inputpeta",type:"text",id:"address",onChange:m,value:O.address,required:!0}),Object(C.jsx)("p",{children:"Latitude"}),Object(C.jsx)("input",{className:"inputuser",type:"text",id:"latitude",onChange:m,value:O.latitude,required:!0}),Object(C.jsx)("p",{children:"Longitude"}),Object(C.jsx)("input",{className:"inputuser",type:"text",id:"longitude",onChange:m,value:O.longitude,required:!0}),c.map((function(e,t){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("p",{className:"value",children:["Sesi ",t+1,1!==c.length&&Object(C.jsx)("button",{onClick:function(){return function(e){var t=Object(A.a)(c);t.splice(e,1),n(t)}(t)},className:"hapus-sesi",children:"Hapus sesi"}),c.length-1===t&&Object(C.jsx)("button",{onClick:f,className:"tambah-sesi",children:"Tambah sesi"})]}),Object(C.jsx)("p",{children:"Deskripsi sesi"}),Object(C.jsx)("input",{name:"Description",className:"inputuser",type:"text",placeholder:"Masukkan nama sesi",value:e.Description,onChange:function(e){return s(e,t)}}),Object(C.jsx)("p",{children:"Jadwal mulai sesi"}),Object(C.jsx)("input",{type:"datetime-local",name:"StartTime",className:"inputuser",value:e.StartTime,onChange:function(e){return s(e,t)}}),Object(C.jsx)("p",{children:"Jadwal selesai sesi"}),Object(C.jsx)("input",{type:"datetime-local",name:"EndTime",className:"inputuser",value:e.EndTime,onChange:function(e){return s(e,t)}})]})})),Object(C.jsx)("input",{type:"submit",className:"add",value:"Tambah"})]})]})})]})})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(j.a,{to:"/admin/login"}),D.b.info("anda harus login sebagai admin")]})})},W=c(100),K=c.n(W);var Y=function(){var e=K()("https://newsapi.org/v2/top-headlines?apiKey=e2c33fa4d8af42bf8273a226d28060e6&q=covid"),t=e.isLoading,c=e.error,a=e.data;if(t)return"loading...";if(c)return"error fetching data";var n=a.articles.map((function(e){return Object(C.jsx)("div",{className:"grid-item",children:Object(C.jsxs)("a",{href:e.url,style:{textDecoration:"inherit"},target:"_blank",children:[Object(C.jsx)("img",{src:e.urlToImage}),Object(C.jsxs)("div",{className:"description",children:[Object(C.jsx)("h1",{children:e.title}),Object(C.jsx)("p",{children:e.description}),Object(C.jsxs)("div",{className:"detail",children:[Object(C.jsx)("p",{children:e.publishedAt}),Object(C.jsx)("p",{children:e.source.name})]})]})]})})}));return Object(C.jsx)(C.Fragment,{children:n})},R=function(){return Object(u.c)((function(e){return e})).admin?Object(C.jsxs)("div",{className:"mainmenu-admin",children:[Object(C.jsx)(T,{}),Object(C.jsx)("div",{className:"content",children:Object(C.jsx)("div",{className:"grid-container",children:Object(C.jsx)(Y,{})})})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(j.a,{to:"/admin/login"}),D.b.info("anda harus login sebagai admin")]})},U=function(){var e=Object(u.c)((function(e){return e})).admin,t=Object(u.b)();return Object(C.jsx)(C.Fragment,{children:e?Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"mainmenu-admin",children:[Object(C.jsx)(T,{}),Object(C.jsx)("div",{className:"content",children:Object(C.jsxs)("div",{className:"container-dual",children:[Object(C.jsxs)("div",{className:"profile",children:[Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Nama"}),Object(C.jsx)("div",{className:"value",children:null===e||void 0===e?void 0:e.Name})]}),Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Email"}),Object(C.jsx)("div",{className:"value",children:null===e||void 0===e?void 0:e.Email})]}),Object(C.jsx)("button",{onClick:function(){t({type:v}),D.b.warn("kamu sudah keluar")},style:{textDecoration:"inherit"},className:"back",children:Object(C.jsx)("div",{children:"Keluar"})})]}),Object(C.jsx)("div",{className:"profile",children:Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Jabatan"}),Object(C.jsx)("div",{className:"value",children:null===e||void 0===e?void 0:e.Position})]})})]})})]})}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(w,{}),D.b.info("anda harus login sebagai admin")]})})},M=function(){Object(a.useEffect)((function(){v()}),[]);var e=Object(j.h)().id,t=Object(a.useState)(),c=Object(r.a)(t,2),n=(c[0],c[1]),s=Object(a.useState)([{description:"",startTime:"",endTime:""}]),i=Object(r.a)(s,2),l=(i[0],i[1],Object(u.c)((function(e){return e})).admin),b={id:Number(e),description:"",location:"",address:"",latitude:0,longitude:0,sessions:[],vacType:"",stock:1},O=Object(a.useState)(b),h=Object(r.a)(O,2),m=h[0],p=h[1],v=Object(a.useCallback)((function(){y(e).then((function(e){var t=e.data;n(t),p({id:t.ID,description:t.Description,location:t.Location,address:t.Address,latitude:t.Latitude,longitude:t.Longitude,sessions:t.Sessions.map((function(e){return{id:e.ID,description:e.Description,startTime:V()(e.StartTime).format("yyyy-MM-DD[T]HH:mm:ss"),endTime:V()(e.EndTime).format("yyyy-MM-DD[T]HH:mm:ss")}})),vacType:t.VacType,stock:t.Stock})})).catch((function(){D.b.error("oops sepertinya ada kesalahan")}))}),[]),f=function(e){var t=e.target.id,c="number"==e.target.type?Number(e.target.value):e.target.value;p(Object(o.a)(Object(o.a)({},m),{},Object(d.a)({},t,c)))},g=Object(a.useCallback)((function(e){e.preventDefault(),function(e){return x.put("/vac",e)}(m).then((function(e){D.b.success("berhasil update vaksinasi"),window.location.href="/admin/ownvac"})).catch((function(e){e.meta.description.forEach((function(e){D.b.warn(e)}))}))}),[m]),N=Object(a.useCallback)((function(e){console.log(e),e&&p(Object(o.a)(Object(o.a)({},m),{},{address:e.place_name,latitude:e.center[1],longitude:e.center[0],location:e.text}))}),[m]),k=Object(a.useCallback)((function(e){var t=m.sessions;t.splice(e,1),p(Object(o.a)(Object(o.a)({},m),{},{sessions:t}))}),[m]),S=Object(a.useCallback)((function(){var e=m.sessions;e.push({description:"",startTime:"",endTime:""}),p(Object(o.a)(Object(o.a)({},m),{},{sessions:e}))}),[m]),w=function(e){return V()(e).locale("id").format("ll")},L=function(e){return V()(e).format("LT")},I=Object(a.useCallback)((function(e,t){var c=e.target.name,a=e.target.value,n=m.sessions;n[t][c]=a,console.log(n),p(Object(o.a)(Object(o.a)({},m),{},{sessions:n}))}),[m]);return Object(C.jsx)(C.Fragment,{children:l?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(T,{}),";",Object(C.jsx)("div",{className:"mainmenu-admin",children:Object(C.jsxs)("div",{className:"content",children:[Object(C.jsx)("h2",{children:"Edit Kegiatan Vaksinasi"}),Object(C.jsxs)("table",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"ID"}),Object(C.jsx)("th",{children:"Deskripsi Vaksin"}),Object(C.jsx)("th",{children:"Lokasi Vaksin"}),Object(C.jsx)("th",{children:"Sesi"}),Object(C.jsx)("th",{children:"Vaksin"})]}),Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[null===m||void 0===m?void 0:m.id,"."]}),Object(C.jsx)("td",{children:null===m||void 0===m?void 0:m.description}),Object(C.jsxs)("td",{style:{width:400},children:[null===m||void 0===m?void 0:m.location,Object(C.jsx)("br",{}),null===m||void 0===m?void 0:m.address]}),Object(C.jsx)("td",{children:null===m||void 0===m?void 0:m.sessions.map((function(e,t){return Object(C.jsxs)(C.Fragment,{children:[e.description,": ",Object(C.jsx)("br",{}),w(e.startTime)," - ",w(e.endTime)," ",Object(C.jsx)("br",{}),L(e.startTime)," "," - ",L(e.endTime),Object(C.jsx)("br",{}),Object(C.jsx)("br",{})]})}))}),Object(C.jsxs)("td",{children:[null===m||void 0===m?void 0:m.vacType,Object(C.jsx)("br",{}),"Stok vaksin: ",null===m||void 0===m?void 0:m.stock]})]})]}),Object(C.jsx)("form",{spellCheck:"false",onSubmit:g,children:Object(C.jsxs)("div",{className:"container-dual",children:[Object(C.jsxs)("div",{className:"profile",children:[Object(C.jsx)(_,{onChangePlace:N}),Object(C.jsx)("br",{}),Object(C.jsx)("p",{children:"Deskripsi Vaksinasi"}),Object(C.jsx)("textarea",{className:"inputpeta",type:"text",id:"description",onChange:f,value:m.description,required:!0}),Object(C.jsx)("p",{children:"Jenis Vaksin"}),Object(C.jsx)("input",{className:"inputuser",type:"text",id:"vacType",onChange:f,value:m.vacType,required:!0}),Object(C.jsx)("p",{children:"Stok Vaksin"}),Object(C.jsx)("input",{className:"inputuser",type:"number",id:"stock",onChange:f,value:m.stock,required:!0})]}),Object(C.jsxs)("div",{className:"profile",children:[Object(C.jsx)("p",{children:"Lokasi"}),Object(C.jsx)("input",{className:"inputuser",type:"text",id:"location",onChange:f,value:m.location,required:!0}),Object(C.jsx)("p",{children:"Alamat"}),Object(C.jsx)("textarea",{className:"inputpeta",type:"text",id:"address",onChange:f,value:m.address,required:!0}),Object(C.jsx)("p",{children:"Latitude"}),Object(C.jsx)("input",{className:"inputuser",type:"text",id:"latitude",onChange:f,value:m.latitude,required:!0}),Object(C.jsx)("p",{children:"Longitude"}),Object(C.jsx)("input",{className:"inputuser",type:"text",id:"longitude",onChange:f,value:m.longitude,required:!0}),null===m||void 0===m?void 0:m.sessions.map((function(e,t){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("p",{className:"value",children:["Sesi ",t+1,1!==m.sessions.length&&Object(C.jsx)("button",{onClick:function(){return k(t)},className:"hapus-sesi",children:"Hapus sesi"}),m.sessions.length-1===t&&Object(C.jsx)("button",{onClick:S,className:"tambah-sesi",children:"Tambah sesi"})]}),Object(C.jsx)("p",{children:"Deskripsi sesi"}),Object(C.jsx)("input",{name:"description",className:"inputuser",type:"text",placeholder:"Masukkan nama sesi",value:e.description,onChange:function(e){return I(e,t)}}),Object(C.jsx)("p",{children:"Jadwal mulai sesi"}),Object(C.jsx)("input",{type:"datetime-local",name:"startTime",className:"inputuser",value:e.startTime,onChange:function(e){return I(e,t)}}),Object(C.jsx)("p",{children:"Jadwal selesai sesi"}),Object(C.jsx)("input",{type:"datetime-local",name:"endTime",className:"inputuser",value:e.endTime,onChange:function(e){return I(e,t)}})]})})),Object(C.jsx)("input",{type:"submit",className:"add",value:"Ubah"})]})]})})]})})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(j.a,{to:"/admin/login"}),D.b.info("anda harus login sebagai admin")]})})},z=(c(136),c(194)),H=c.p+"static/media/logo.6ac74cc5.svg",B=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!1),i=Object(r.a)(s,2),j=i[0],d=i[1];Object(a.useEffect)((function(){var e=window.matchMedia("(max-width: 700px)");return e.addListener(o),o(e),function(){e.removeListener(o)}}),[]);var o=function(e){e.matches?d(!0):d(!1)};return Object(C.jsxs)("header",{className:"Header",children:[Object(C.jsx)("div",{className:"Logo",children:Object(C.jsx)(l.c,{to:"/user/landingpage",children:Object(C.jsx)("img",{src:H})})}),Object(C.jsx)(z.a,{in:!j||c,timeout:350,classNames:"NavAnimation",unmountOnExit:!0,children:Object(C.jsxs)("nav",{className:"Nav",children:[Object(C.jsx)(l.c,{to:"/user/landingpage",className:"item",style:function(e){return e.isActive?{color:"#006d7c",fontWeight:"600",textDecoration:"none"}:{color:"#b7b7b7",textDecoration:"none"}},children:Object(C.jsx)("div",{className:"ho",children:"Beranda"})}),Object(C.jsx)(l.c,{to:"/user/agreement",className:"item",style:function(e){return e.isActive?{color:"#006d7c",fontWeight:"600",textDecoration:"none"}:{color:"#b7b7b7",textDecoration:"none"}},children:Object(C.jsx)("div",{className:"ho",children:"Daftar Vaksin"})}),Object(C.jsx)(l.c,{to:"/user/vaccine-list",className:"item",style:function(e){return e.isActive?{color:"#006d7c",fontWeight:"600",textDecoration:"none"}:{color:"#b7b7b7",textDecoration:"none"}},children:Object(C.jsx)("div",{className:"ho",children:"Jadwal"})}),Object(C.jsx)(l.c,{to:"/user/profile",className:"item",style:function(e){return e.isActive?{color:"#006d7c",fontWeight:"600",textDecoration:"none"}:{color:"#b7b7b7",textDecoration:"none"}},children:Object(C.jsx)("div",{className:"ho",children:"Profil"})})]})}),Object(C.jsx)("button",{onClick:function(){n(!c)},className:"Burger",children:"Menu"})]})},Z=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"mainmenu-user2",children:Object(C.jsxs)("div",{className:"content",children:[Object(C.jsxs)("h1",{children:["Kelihatannya kamu belum ada daftar vaksin. ",Object(C.jsx)("br",{}),"kamu bisa daftarkan orang lain juga loh."]}),Object(C.jsx)("div",{className:"dialog-button",children:Object(C.jsx)(l.b,{to:"/user/agreement",style:{textDecoration:"inherit"},children:Object(C.jsx)("div",{className:"add",children:"Daftar"})})})]})})})},X=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(null),i=Object(r.a)(s,2),d=i[0],o=i[1],b=Object(j.h)().id,u=function(e){return V()(e).locale("id").format("ll")},O=function(e){return V()(e).format("LT")},h=Object(a.useCallback)((function(){var e;(e=b,x.get("/participant/vac/".concat(e))).then((function(e){var t=e.data;n(t)})).catch((function(e){D.b.warn("hmm sepertinya ada kesalahan")}))}),[]),m=Object(a.useCallback)((function(e){(function(e){return x.put("/participant/canceled",null,{params:{id:e}})})(e).then((function(){return h()}))}),[]),p=Object(a.useCallback)((function(e){(function(e){return x.put("/participant/vaccinated",null,{params:{id:e}})})(e).then((function(){return h()}))}),[]);return Object(a.useEffect)((function(){h()}),[]),Object(a.useEffect)((function(){y(b).then((function(e){var t=e.data;console.log(t),o(t)})).catch((function(e){console.log(e.response),D.b.warn("hmm sepertinya ada kesalahan")}))}),[]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(T,{}),Object(C.jsx)("div",{className:"mainmenu-admin",children:Object(C.jsxs)("div",{className:"content",children:[Object(C.jsxs)("div",{className:"container-dual",children:[Object(C.jsxs)("div",{className:"profile",children:[Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Lokasi"}),Object(C.jsx)("div",{className:"value",children:null===d||void 0===d?void 0:d.Location})]}),Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Alamat"}),Object(C.jsx)("div",{className:"value",children:null===d||void 0===d?void 0:d.Address})]}),Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Jenis Vaksin"}),Object(C.jsx)("div",{className:"value",children:null===d||void 0===d?void 0:d.VacType})]}),Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Stok Vaksin"}),Object(C.jsx)("div",{className:"value",children:null===d||void 0===d?void 0:d.Stock})]})]}),Object(C.jsx)("div",{className:"profile",children:Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Jadwal dan Sesi Vaksin"}),Object(C.jsx)("div",{className:"value",children:null===d||void 0===d?void 0:d.Sessions.map((function(e,t){return Object(C.jsxs)(C.Fragment,{children:[e.Description,": ",Object(C.jsx)("br",{}),u(e.StartTime)," - ",u(e.EndTime)," ",Object(C.jsx)("br",{}),O(e.StartTime)," "," - ",O(e.EndTime),Object(C.jsx)("br",{}),Object(C.jsx)("br",{})]})}))})]})})]}),0!=c.length?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h2",{children:"Daftar Partisipan"}),Object(C.jsxs)("table",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"No."}),Object(C.jsx)("th",{children:"Nama Partisipan"}),Object(C.jsx)("th",{children:"NIK"}),Object(C.jsx)("th",{children:"Nomor Telepon"}),Object(C.jsx)("th",{children:"Alamat"}),Object(C.jsx)("th",{children:"Sesi"}),Object(C.jsx)("th",{children:"Status"})]}),c.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[t+1,"."]}),Object(C.jsx)("td",{children:e.Fullname}),Object(C.jsx)("td",{children:e.Nik}),Object(C.jsx)("td",{children:e.PhoneNumber}),Object(C.jsx)("td",{children:e.Address}),Object(C.jsxs)("td",{children:[e.Session.Description,Object(C.jsx)("br",{}),O(e.Session.StartTime)]}),Object(C.jsxs)("td",{children:["registered"==e.Status?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"konfirmasi",onClick:function(){return p(e.ID)},children:"Vaccinate"}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"hapus",onClick:function(){return m(e.ID)},children:"Reject"})]}):null,"VACCINATED"==e.Status?Object(C.jsx)(C.Fragment,{children:"vaccinated"}):null,"canceled"==e.Status?Object(C.jsx)(C.Fragment,{children:"canceled"}):null]})]},t)}))]}),Object(C.jsx)("div",{className:"dialog-button",children:Object(C.jsx)(l.b,{to:"/admin/ownvac",style:{textDecoration:"inherit"},children:Object(C.jsx)("div",{className:"back",children:"Kembali"})})})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h2",{children:"Belum ada partisipan"}),Object(C.jsx)("div",{className:"dialog-button",children:Object(C.jsx)(l.b,{to:"/admin/ownvac",style:{textDecoration:"inherit"},children:Object(C.jsx)("div",{className:"back",children:"Kembali"})})})]})]})})]})},$=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"notfound-bg-login",children:Object(C.jsxs)("div",{className:"content-notfound",children:["Maaf halaman yang kamu cari tidak ada \ud83d\ude22",Object(C.jsx)(l.c,{to:"/user/landingpage",className:"item",style:{textDecoration:"none"},children:Object(C.jsx)("div",{className:"gotomainmenu-not-found",children:"Go to main menu"})})]})})})},G=(c(137),function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B,{}),Object(C.jsx)("div",{className:"mainmenu-user",children:Object(C.jsxs)("div",{className:"content",children:[Object(C.jsx)("p",{children:"Wujudkan Indonesia sehat, aman, dan produktif"}),Object(C.jsx)("h1",{children:"Indonesia tanggap Covid-19"}),Object(C.jsxs)("div",{className:"dialog-button",children:[Object(C.jsx)(l.b,{to:"/user/vaccine-list",style:{textDecoration:"inherit"},children:Object(C.jsx)("div",{className:"back",children:"Lihat Lokasi"})}),Object(C.jsx)(l.b,{to:"/user/agreement",style:{textDecoration:"inherit"},children:Object(C.jsx)("div",{className:"add",children:"Daftar Vaksin"})})]})]})})]})}),Q="UPDATE_PROFILE",ee="LOGOUT",te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:Q,payload:e}},ce=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B,{}),Object(C.jsx)("div",{className:"mainmenu-user2",children:Object(C.jsxs)("div",{className:"content",children:[Object(C.jsxs)("h1",{children:["Kamu belum boleh ",Object(C.jsx)("br",{}),"mengakses halaman ini ",Object(C.jsx)("br",{}),"yuk login dulu :D"]}),Object(C.jsxs)("div",{className:"dialog-button",children:[Object(C.jsx)(l.b,{to:"/user/register",style:{textDecoration:"inherit"},children:Object(C.jsx)("div",{className:"back",children:"Daftar"})}),Object(C.jsx)(l.b,{to:"/user/login",style:{textDecoration:"inherit"},children:Object(C.jsx)("div",{className:"add",children:"Masuk"})})]})]})})]})},ae=function(){var e=Object(u.c)((function(e){return e})).user,t=Object(u.b)();return Object(C.jsx)(C.Fragment,{children:e?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"headerTop",children:Object(C.jsx)(B,{})}),Object(C.jsx)("div",{className:"mainmenu-user2",children:Object(C.jsxs)("div",{className:"content",children:[Object(C.jsx)("h1",{children:"Profil Saya"}),Object(C.jsxs)("div",{className:"container-dual",children:[Object(C.jsxs)("div",{className:"profile",children:[Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Nama"}),Object(C.jsx)("div",{className:"value",children:null===e||void 0===e?void 0:e.name})]}),Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"NIK"}),Object(C.jsx)("div",{className:"value",children:null===e||void 0===e?void 0:e.nik})]}),Object(C.jsxs)("div",{className:"dialog-button",children:[Object(C.jsx)("button",{onClick:function(){t({type:ee}),D.b.warn("kamu sudah keluar")},style:{textDecoration:"inherit"},className:"back",children:Object(C.jsx)("div",{children:"Keluar"})}),Object(C.jsx)(l.b,{to:"/user/info-vacc",style:{textDecoration:"inherit"},children:Object(C.jsx)("button",{className:"add",children:"Jadwal Saya"})})]})]}),Object(C.jsx)("div",{className:"profile",children:Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Email"}),Object(C.jsx)("div",{className:"value",children:null===e||void 0===e?void 0:e.email})]})})]})]})})]}):Object(C.jsx)(ce,{})})},ne=c.p+"static/media/VaccineIcon.2d02d558.png",se=c(16),ie=c(33),re=c.p+"static/media/placeholder.64cdcb0e.png";function le(e){var t=e.updateLocation,c=void 0===t?function(e,t){}:t,n=Object(a.useState)([]),s=Object(r.a)(n,2),i=s[0],l=s[1],j=Object(a.useState)(null),d=Object(r.a)(j,2),b=d[0],u=d[1],O=Object(a.useState)([]),h=Object(r.a)(O,2),m=(h[0],h[1],Object(a.useState)({width:"90vw",height:"55vh",latitude:3.59,longitude:98.67,zoom:12})),x=Object(r.a)(m,2),p=x[0],v=x[1],f=Object(a.useState)(null),N=Object(r.a)(f,2),k=N[0],S=N[1],y=Object(a.useState)(null),w=Object(r.a)(y,2),T=w[0],L=w[1];Object(a.useEffect)((function(){g().then((function(e){var t=e.data;l(t),D.b.info("Seluruh lokasi vaksin berhasil dimuat")})).catch((function(){D.b.error("ups sepertinya ada kesalahan")}))}),[]);var V=Object(a.useCallback)((function(){console.log("Clicked!"),navigator.geolocation.getCurrentPosition((function(e){var t={lat:e.coords.latitude,long:e.coords.longitude},a={width:"90vw",height:"55vh",latitude:e.coords.latitude,longitude:e.coords.longitude,zoom:14};u(t),c(t.lat,t.long),v(a)}))}),[]);return Object(C.jsx)("div",{className:"peta",children:Object(C.jsxs)(ie.c,Object(o.a)(Object(o.a)({},p),{},{mapStyle:"mapbox://styles/altaha/ckymkxtz8892y16rbbojgb3xu",mapboxApiAccessToken:"pk.eyJ1IjoiYWx0YWhhIiwiYSI6ImNreW1lYnp6bDAxbWcyb2xqZjZsYzYwdWsifQ.7Oezd-XT8iHNi4rr2Jtphw",onViewportChange:function(e){v(e)},maxBounds:[[-122.66336,37.492987],[-122.250481,37.871651]],children:[Object(C.jsx)("button",{onClick:V,className:"mylocation",children:"Lokasi saya"}),b?Object(C.jsx)(ie.a,{latitude:b.lat,longitude:b.long,children:Object(C.jsx)("button",{className:"iconVaccine",onClick:function(e){e.preventDefault(),L(b)},children:Object(C.jsx)("img",{src:re,className:"iconVaccine"})})}):null,i.map((function(e){return Object(C.jsx)(ie.a,{latitude:e.Latitude,longitude:e.Longitude,children:Object(C.jsx)("button",{className:"iconVaccine",onClick:function(t){t.preventDefault(),S(e)},children:Object(C.jsx)("img",{src:ne,className:"iconVaccine"})})},e.ID)})),T?Object(C.jsx)(ie.b,{latitude:T.lat,longitude:T.long,onClose:function(){L(null)},children:Object(C.jsxs)("div",{className:"peta_description",children:[Object(C.jsxs)("p",{children:["Latitude: ",T.lat]}),Object(C.jsxs)("p",{children:["Longitude: ",T.long]})]})}):null,k?Object(C.jsx)(ie.b,{latitude:k.Latitude,longitude:k.Longitude,onClose:function(){S(null)},children:Object(C.jsxs)("div",{className:"peta_description",children:[Object(C.jsx)("p",{children:k.Location}),Object(C.jsx)("p",{children:k.Description})]})}):null]}))})}var je=function(){var e=Object(a.useState)(null),t=Object(r.a)(e,2),c=t[0],n=t[1],s=Object(u.c)((function(e){return e})).user,i=function(e){return V()(e).format("LT")},j=Object(a.useCallback)((function(){x.get("/participant/user").then((function(e){var t=e.data;console.log(t),n(t),D.b.info("semua data berhasil dimuat")})).catch((function(e){console.log(e.response),D.b.warn("hmm sepertinya ada kesalahan")}))}),[]),d=Object(a.useCallback)((function(e){(function(e){return x.delete("/participant/".concat(e))})(e).then((function(){j(),D.b.info("data partsipan berhasil dihapus")}))}),[]);return Object(a.useEffect)((function(){j()}),[]),c?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B,{}),Object(C.jsx)("div",{className:"mainmenu-user2",children:Object(C.jsx)("div",{className:"content",children:c.length>0?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h1",{children:"Daftar Vaksinasi Saya"}),Object(C.jsxs)("table",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"No."}),Object(C.jsx)("th",{children:"Nama Partisipan"}),Object(C.jsx)("th",{children:"Lokasi Vaksin"}),Object(C.jsx)("th",{children:"Alamat Vaksin"}),Object(C.jsx)("th",{children:"Jadwal Vaksin"}),Object(C.jsx)("th",{children:"Sesi Vaksin"}),Object(C.jsx)("th",{children:"Keterangan"}),Object(C.jsx)("th",{children:"Edit"})]}),c.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[t+1,"."]}),Object(C.jsx)("td",{children:e.Fullname}),Object(C.jsx)("td",{children:e.Vac.Location}),Object(C.jsx)("td",{children:e.Vac.Address}),Object(C.jsx)("td",{children:(c=e.Session.StartTime,V()(c).locale("id").format("ll"))}),Object(C.jsxs)("td",{children:[e.Session.Description,Object(C.jsx)("br",{}),i(e.Session.StartTime)]}),"registered"==e.Status?Object(C.jsx)("td",{children:Object(C.jsx)(l.b,{to:"/user/ticket/".concat(e.ID),style:{textDecoration:"inherit"},children:Object(C.jsxs)("div",{className:"ubah",children:["Registered",Object(C.jsx)("br",{}),"Lihat Tiket"]})})}):null,"VACCINATED"==e.Status?Object(C.jsx)("td",{colSpan:2,children:Object(C.jsx)("div",{className:"konfirmasi",children:"vaccinated"})}):null,"canceled"==e.Status?Object(C.jsx)("td",{colSpan:2,children:Object(C.jsx)("div",{className:"hapus",children:"canceled"})}):null,"registered"==e.Status?Object(C.jsxs)("td",{children:[Object(C.jsx)(l.b,{to:"/user/updateparticipant/".concat(e.ID),style:{textDecoration:"inherit"},children:Object(C.jsx)("div",{className:"ubah",children:"Edit"})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"hapus",onClick:function(){return d(e.ID)},children:"Hapus"})]}):null]},t);var c}))]})]}):Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Z,{})})})})]}):Object(C.jsx)(C.Fragment,{children:s?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B,{}),Object(C.jsx)(I,{})]}):Object(C.jsx)(ce,{})})},de=function(){var e=Object(a.useState)({email:"",password:""}),t=Object(r.a)(e,2),c=t[0],n=t[1],s=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,i=Object(a.useState)(""),O=Object(r.a)(i,2),m=O[0],p=O[1],v=Object(a.useState)(""),f=Object(r.a)(v,2),g=f[0],N=(f[1],Object(a.useState)("")),k=Object(r.a)(N,2),S=k[0],y=k[1],w=Object(u.b)(),T=Object(u.c)((function(e){return e})).user,L=function(e){var t=e.target.id,a=e.target.value;"email"===t&&(s.test(a)?p(""):p(Object(C.jsx)("div",{className:"error-messages",children:Object(C.jsx)("p",{children:"Seems like your email not valid"})}))),n(Object(o.a)(Object(o.a)({},c),{},Object(d.a)({},t,a))),console.log("data: ",c)};return Object(C.jsxs)(C.Fragment,{children:[T?Object(C.jsx)(j.a,{to:"/user/profile"}):null,Object(C.jsx)("div",{className:"user-bg-login",children:Object(C.jsx)("div",{className:"loginbox",children:Object(C.jsxs)("div",{className:"grid-container-admin",children:[Object(C.jsx)("div",{className:"login-header",children:Object(C.jsx)("h1",{children:"Login"})}),Object(C.jsx)("div",{className:"login-logo",children:Object(C.jsx)("img",{src:b,alt:"logo"})}),Object(C.jsxs)("div",{className:"login-form",children:[Object(C.jsxs)("form",{spellCheck:"false",onSubmit:function(e){e.preventDefault(),0!==c.email.length&&0!==c.password.length?function(e){return x.post("/users/login",e)}(c).then((function(e){!function(e){localStorage.setItem("vac:token",JSON.stringify(e)),h(e.token),w(te(e))}(Object(o.a)(Object(o.a)({},e.data),{},{email:c.email})),D.b.success("berhasil login")})).catch((function(e){e.meta.description.forEach((function(e){D.b.error(e)}))})):y(Object(C.jsx)("div",{className:"error-messages",children:Object(C.jsx)("p",{children:"Password can not be empty"})}))},children:[Object(C.jsxs)("div",{className:"inputbox",children:[Object(C.jsx)("input",{type:"text",value:c.email,id:"email",onChange:L,required:!0}),Object(C.jsx)("label",{children:"Email"})]}),Object(C.jsxs)("div",{className:"inputbox",children:[Object(C.jsx)("input",{type:"password",id:"password",value:c.password,onChange:L,required:!0}),Object(C.jsx)("label",{children:"Password"})]}),Object(C.jsx)("button",{type:"submit",children:"Continue"})]}),Object(C.jsxs)("div",{className:"yet-register",children:[Object(C.jsx)(l.c,{to:"/user/register",style:{textDecoration:"none"},children:Object(C.jsx)("span",{children:" create account"})})," ","or"," ",Object(C.jsx)(l.c,{to:"/user/landingpage",style:{textDecoration:"none"},children:Object(C.jsx)("span",{children:" log in as guest"})})]}),Object(C.jsxs)("div",{className:"error-message-container",children:[m,g,S]})]})]})})})]})},oe=function(){var e=Object(u.c)((function(e){return e})).user,t=Object(a.useState)({email:"",password:"",confirmpassword:"",nik:"",name:"",phonenumber:""}),c=Object(r.a)(t,2),n=c[0],s=c[1],i=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,O=Object(a.useState)(""),h=Object(r.a)(O,2),m=h[0],p=h[1],v=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/i,f=Object(a.useState)(""),g=Object(r.a)(f,2),N=g[0],k=g[1],S=/^[a-zA-Z\s]{6,30}$/i,y=Object(a.useState)(""),w=Object(r.a)(y,2),T=w[0],L=w[1],V=/^[0-9]{9,14}$/i,I=Object(a.useState)(""),F=Object(r.a)(I,2),E=F[0],A=F[1],q=/^[0-9]{16,16}$/i,P=Object(a.useState)(""),_=Object(r.a)(P,2),J=_[0],W=_[1],K=Object(a.useState)(""),Y=Object(r.a)(K,2),R=Y[0],U=Y[1],M=function(e){var t=e.target.id,c=e.target.value;"email"===t&&(i.test(c)?p(""):p(Object(C.jsx)("div",{className:"error-messages",children:Object(C.jsx)("p",{children:"Seems like your email not valid"})}))),"password"===t&&(v.test(c)?k(""):k(Object(C.jsx)("div",{className:"error-messages",children:Object(C.jsx)("p",{children:"Password minimum 8 characters which contain at least 1 number and 1 characters"})}))),"confirmpassword"===t&&(c===n.password?k(""):k(Object(C.jsx)("div",{className:"error-messages",children:Object(C.jsx)("p",{children:"Password not match"})}))),"phonenumber"===t&&(V.test(c)?A(""):A(Object(C.jsx)("div",{className:"error-messages",children:Object(C.jsx)("p",{children:"Phone number must contains 9-14 numbers only"})}))),"nik"===t&&(q.test(c)?W(""):W(Object(C.jsx)("div",{className:"error-messages",children:Object(C.jsx)("p",{children:"NIK must contain 16 numbers"})}))),"name"===t&&(S.test(c)?L(""):L(Object(C.jsx)("div",{className:"error-messages",children:Object(C.jsx)("p",{children:"Fullname only accept 6-30 characters"})}))),s(Object(o.a)(Object(o.a)({},n),{},Object(d.a)({},t,c))),console.log("data: ",n)},z=Object(a.useState)(!1),H=Object(r.a)(z,2),B=H[0],Z=H[1],X=Object(j.g)();return Object(C.jsxs)(C.Fragment,{children:[B?X("/user/login"):null,e?Object(C.jsx)(j.a,{to:"/user/profile"}):null,Object(C.jsx)("div",{className:"user-bg-login",children:Object(C.jsx)("div",{className:"loginbox",children:Object(C.jsxs)("div",{className:"grid-container-admin",children:[Object(C.jsx)("div",{className:"login-header",children:Object(C.jsx)("h1",{children:"Register"})}),Object(C.jsx)("div",{className:"login-logo",children:Object(C.jsx)("img",{src:b,alt:"logo"})}),Object(C.jsxs)("div",{className:"login-form",children:[Object(C.jsxs)("form",{spellCheck:"false",onSubmit:function(e){0!==n.email.length&&0!==n.password.length&&0!==n.name.length&&0!==n.nik.length&&0!==n.phonenumber.length||(U(Object(C.jsx)("div",{className:"error-messages",children:Object(C.jsx)("p",{children:"You must fill all fields"})})),e.preventDefault()),n.password!=n.confirmpassword&&(U(Object(C.jsx)("div",{className:"error-messages",children:Object(C.jsx)("p",{children:"Password not match"})})),e.preventDefault()),function(e){return x.post("/users/register",e)}(n).then((function(e){D.b.success("berhasil daftar"),Z(!0)})).catch((function(e){e.meta.description.forEach((function(e){D.b.error(e)}))})),e.preventDefault()},children:[Object(C.jsxs)("div",{className:"inputbox",children:[Object(C.jsx)("input",{type:"text",value:n.email,id:"email",onChange:M,required:!0}),Object(C.jsx)("label",{children:"Email"})]}),Object(C.jsxs)("div",{className:"inputbox",children:[Object(C.jsx)("input",{type:"text",value:n.nik,id:"nik",onChange:M,required:!0}),Object(C.jsx)("label",{children:"NIK"})]}),Object(C.jsxs)("div",{className:"inputbox",children:[Object(C.jsx)("input",{type:"text",value:n.name,id:"name",onChange:M,required:!0}),Object(C.jsx)("label",{children:"Fullname"})]}),Object(C.jsxs)("div",{className:"inputbox",children:[Object(C.jsx)("input",{type:"text",value:n.phonenumber,id:"phonenumber",onChange:M,required:!0}),Object(C.jsx)("label",{children:"Phone Number"})]}),Object(C.jsxs)("div",{className:"inputbox",children:[Object(C.jsx)("input",{type:"password",id:"password",value:n.password,onChange:M,required:!0}),Object(C.jsx)("label",{children:"Password"})]}),Object(C.jsxs)("div",{className:"inputbox",children:[Object(C.jsx)("input",{type:"password",id:"confirmpassword",value:n.confirmpassword,onChange:M,required:!0}),Object(C.jsx)("label",{children:"Confirm Password"})]}),Object(C.jsx)("button",{children:"Continue"})]}),Object(C.jsxs)("div",{className:"yet-register",children:["Have account?",Object(C.jsx)(l.c,{to:"/user/login",style:{textDecoration:"none"},children:Object(C.jsx)("span",{children:" Login"})}),Object(C.jsx)("br",{}),"or",Object(C.jsx)("br",{}),Object(C.jsx)(l.c,{to:"/user/landingpage",style:{textDecoration:"none"},children:"log in as guest"})]}),Object(C.jsxs)("div",{className:"error-message-container",children:[m,N,R,T,J,E]})]})]})})})]})},be=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],n=t[1];Object(a.useEffect)((function(){g().then((function(e){var t=e.data;n(t),D.b.info("Seluruh data berhasil ditampilkan")})).catch((function(){D.b.error("oops sepertinya ada kesalahan")}))}),[]);var s=function(e){return V()(e).locale("id").format("ll")},i=function(e){return V()(e).format("LT")};return c?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B,{}),Object(C.jsx)("div",{className:"mainmenu-user",children:Object(C.jsxs)("div",{className:"content",children:[Object(C.jsx)("h2",{children:"Daftar Vaksinasi yang Akan dilaksanakan"}),Object(C.jsxs)("table",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"No."}),Object(C.jsx)("th",{children:"Deskripsi Vaksin"}),Object(C.jsx)("th",{children:"Lokasi Vaksin"}),Object(C.jsx)("th",{children:"Sesi"}),Object(C.jsx)("th",{children:"Jenis Vaksin"})]}),c.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[t+1,"."]}),Object(C.jsx)("td",{children:e.Description}),Object(C.jsxs)("td",{style:{width:400},children:[e.Location,Object(C.jsx)("br",{}),e.Address]}),Object(C.jsx)("td",{children:e.Sessions.map((function(e,t){return Object(C.jsxs)(C.Fragment,{children:[e.Description,": ",Object(C.jsx)("br",{}),s(e.StartTime)," - ",s(e.EndTime)," ",Object(C.jsx)("br",{}),i(e.StartTime)," "," - ",i(e.EndTime),Object(C.jsx)("br",{}),Object(C.jsx)("br",{})]})}))}),Object(C.jsx)("td",{children:e.VacType})]},t)}))]})]})})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B,{}),Object(C.jsx)(I,{})]})},ue=function(){var e=Object(u.c)((function(e){return e})).user;return Object(C.jsx)(C.Fragment,{children:e?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B,{}),Object(C.jsx)("div",{className:"mainmenu-user2",children:Object(C.jsxs)("div",{className:"content",children:[Object(C.jsx)("p",{className:"paragraph",children:"Persyaratan vaksinasi:"}),Object(C.jsxs)("ol",{children:[Object(C.jsx)("li",{children:"Berusia 12 tahun ke atas"}),Object(C.jsx)("li",{children:"Sehat"}),Object(C.jsx)("li",{children:"Memiliki KTP/Kartu Keluarga"}),Object(C.jsx)("li",{children:"Tidak sedang positif COVID-19"})]}),Object(C.jsxs)("div",{className:"dialog-button",children:[Object(C.jsx)(l.b,{to:"/user/landingpage",style:{textDecoration:"inherit"},children:Object(C.jsx)("div",{className:"back",children:"Kembali"})}),Object(C.jsx)(l.b,{to:"/user/reg-vaccine",style:{textDecoration:"inherit"},children:Object(C.jsx)("div",{className:"add",children:"Lanjut"})})]})]})})]}):Object(C.jsx)(ce,{})})},Oe=c(102),he=c.n(Oe),me=(c(186),function(){var e,t=Object(a.useState)(null),c=Object(r.a)(t,2),s=c[0],i=c[1],l=Object(j.h)().id,d=n.a.createRef();return Object(a.useEffect)((function(){S(l).then((function(e){var t=e.data;console.log(t),i(t),D.b.info("data berhasil dimuat")})).catch((function(e){console.log(e.response),D.b.warn("hmm sepertinya ada kesalahan")}))}),[]),Object(C.jsxs)("div",{children:[Object(C.jsx)(B,{}),Object(C.jsx)("div",{className:"mainmenu-user2",children:Object(C.jsx)("div",{className:"content",ref:d,children:Object(C.jsxs)("div",{className:"container-dual",children:[Object(C.jsxs)("div",{className:"profile",children:[Object(C.jsx)("h1",{children:"Tiket Vaksinasi"}),Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Nama Partisipan"}),Object(C.jsx)("div",{className:"value",children:null===s||void 0===s?void 0:s.Fullname})]}),Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"NIK"}),Object(C.jsx)("div",{className:"value",children:null===s||void 0===s?void 0:s.Nik})]}),Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Alamat"}),Object(C.jsx)("div",{className:"value",children:null===s||void 0===s?void 0:s.Address})]}),Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Nomor Telepon"}),Object(C.jsx)("div",{className:"value",children:null===s||void 0===s?void 0:s.PhoneNumber})]}),Object(C.jsx)("div",{className:"property",children:Object(C.jsx)("div",{className:"add",children:Object(C.jsx)(he.a,{targetRef:d,filename:"tiket-vaksin.pdf",x:1.2,y:1.2,scale:1.6,options:{orientation:"landscape",unit:"in",format:[20,10]},children:function(e){var t=e.toPdf;return Object(C.jsx)("div",{onClick:t,children:"Unduh pdf"})}})})})]}),Object(C.jsxs)("div",{className:"profile",children:[Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Nomor Vaksin"}),Object(C.jsxs)("div",{className:"value",children:[null===s||void 0===s?void 0:s.Vac.ID,null===s||void 0===s?void 0:s.SessionID,null===s||void 0===s?void 0:s.UserID,null===s||void 0===s?void 0:s.ID]})]}),Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Lokasi Vaksin"}),Object(C.jsxs)("div",{className:"value",children:[null===s||void 0===s?void 0:s.Vac.Location,Object(C.jsx)("br",{}),null===s||void 0===s?void 0:s.Vac.Address]})]}),Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Jadwal Vaksin"}),Object(C.jsx)("div",{className:"value",children:(e=null===s||void 0===s?void 0:s.Session.StartTime,V()(e).locale("id").format("ll"))})]}),Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Sesi Vaksin"}),Object(C.jsxs)("div",{className:"value",children:[null===s||void 0===s?void 0:s.Session.Description,Object(C.jsx)("br",{}),function(e){return V()(e).format("LT")}(null===s||void 0===s?void 0:s.Session.StartTime)]})]})]})]})})})]})}),xe=[{value:"RS USU",label:"RS USU"},{value:"RS Bhayangkara",label:"RS Bhayangkara"},{value:"RS Permata",label:"RS Permata"}],pe=[{value:"11 Januari 2022",label:"11 Januari 2022"}],ve=[{value:"Sesi 1. 07:00 - 12:00",label:"Sesi 1. 07:00 - 12:00"},{value:"Sesi 2. 13:00 - 16.00",label:"Sesi 2. 13:00 - 16.00"}],fe=function(){var e=Object(a.useState)({email:"",password:"",confirmpassword:"",nik:"",fullname:"",phonenumber:""}),t=Object(r.a)(e,2),c=(t[0],t[1],Object(a.useState)("")),n=Object(r.a)(c,2),s=(n[0],n[1],Object(a.useState)("")),i=Object(r.a)(s,2),j=(i[0],i[1],Object(a.useState)("")),d=Object(r.a)(j,2),o=(d[0],d[1],Object(a.useState)("")),b=Object(r.a)(o,2),u=(b[0],b[1],Object(a.useState)("")),O=Object(r.a)(u,2),h=(O[0],O[1],Object(a.useState)("")),m=Object(r.a)(h,2);m[0],m[1];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B,{}),Object(C.jsx)("div",{className:"mainmenu-user2",children:Object(C.jsx)("div",{className:"content",children:Object(C.jsxs)("div",{className:"container-dual",children:[Object(C.jsxs)("div",{className:"profile",children:[Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Nama partisipan"}),Object(C.jsx)("div",{className:"value",children:"Altaha"})]}),Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Lokasi vaksin sebelumnya"}),Object(C.jsx)("div",{className:"value",children:"RS Universitas Sumatera Utara Jl. Dr. Mansyur No.66, Merdeka, Kec. Medan Baru, Kota Medan, Sumatera Utara 20154"})]}),Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Jadwal vaksin sebelumnya"}),Object(C.jsx)("div",{className:"value",children:"11 Januari 2022"})]}),Object(C.jsxs)("div",{className:"property",children:[Object(C.jsx)("div",{className:"field",children:"Sesi vaksin sebelumnya"}),Object(C.jsx)("div",{className:"value",children:"Sesi 1, 08.00-12.00 WIB"})]})]}),Object(C.jsx)("div",{className:"profile",children:Object(C.jsxs)("form",{children:[Object(C.jsx)("p",{children:"Nama"}),Object(C.jsx)("input",{className:"inputuser",type:"text",name:"nama",min:"10",max:"100",required:!0}),Object(C.jsx)("p",{children:"NIK"}),Object(C.jsx)("input",{className:"inputuser",type:"number",name:"nik",min:"10",max:"100",required:!0}),Object(C.jsx)("p",{children:"Nomor telepon"}),Object(C.jsx)("input",{className:"inputuser",type:"number",name:"nomor_telepon",min:"10",max:"100",required:!0}),Object(C.jsx)("p",{children:"Alamat"}),Object(C.jsx)("input",{className:"inputuser",type:"text",name:"alamat",min:"10",max:"100",required:!0}),Object(C.jsx)("p",{children:"Lokasi Vaksin"}),Object(C.jsx)("div",{className:"dropdown",children:Object(C.jsx)(se.a,{options:xe})}),Object(C.jsx)("p",{children:"Jadwal Vaksin"}),Object(C.jsx)("div",{className:"dropdown",children:Object(C.jsx)(se.a,{options:pe})}),Object(C.jsx)("p",{children:"Sesi Vaksin"}),Object(C.jsx)("div",{className:"dropdown",children:Object(C.jsx)(se.a,{options:ve})}),Object(C.jsxs)("div",{className:"dialog-button",children:[Object(C.jsx)(l.b,{to:"/user/landingpage",style:{textDecoration:"inherit"},children:Object(C.jsx)("div",{className:"back",children:"Kembali"})}),Object(C.jsx)("input",{type:"submit",className:"add",value:"Tambah"})]})]})})]})})})]})},ge=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],n=t[1],s=Object(u.c)((function(e){return e})).admin,i=Object(a.useCallback)((function(){var e;(e=s.ID,x.get("/vacbyadmin/".concat(e))).then((function(e){var t=e.data;n(t)})).catch((function(){D.b.error("oops sepertinya ada kesalahan")}))}),[]),d=Object(a.useCallback)((function(e){(function(e){return x.delete("/vac/".concat(e))})(e).then((function(){return i()}))}),[]);Object(a.useEffect)((function(){i()}),[]);var o=function(e){return V()(e).locale("id").format("ll")},b=function(e){return V()(e).format("LT")};return s?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(T,{}),Object(C.jsx)("div",{className:"mainmenu-admin",children:Object(C.jsx)("div",{className:"content",children:c?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h2",{children:"Daftar Vaksinasi Saya"}),Object(C.jsx)(l.b,{to:"/admin/add-vaccination",style:{textDecoration:"inherit"},children:Object(C.jsx)("div",{className:"add",children:"Tambah Vaksinasi"})}),Object(C.jsx)("br",{}),Object(C.jsxs)("table",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"No."}),Object(C.jsx)("th",{children:"Deskripsi Vaksin"}),Object(C.jsx)("th",{children:"Lokasi Vaksin"}),Object(C.jsx)("th",{children:"Sesi"}),Object(C.jsx)("th",{children:"Vaksin"}),Object(C.jsx)("th",{children:"Partisipan"}),Object(C.jsx)("th",{children:"Edit"})]}),c.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[t+1,"."]}),Object(C.jsx)("td",{children:e.Description}),Object(C.jsxs)("td",{style:{width:400},children:[e.Location,Object(C.jsx)("br",{}),e.Address]}),Object(C.jsx)("td",{children:e.Sessions.map((function(e,t){return Object(C.jsxs)(C.Fragment,{children:[e.Description,": ",Object(C.jsx)("br",{}),o(e.StartTime)," - ",o(e.EndTime)," ",Object(C.jsx)("br",{}),b(e.StartTime)," "," - ",b(e.EndTime),Object(C.jsx)("br",{}),Object(C.jsx)("br",{})]})}))}),Object(C.jsxs)("td",{children:[e.VacType,Object(C.jsx)("br",{}),"Stok vaksin: ",e.Stock]}),Object(C.jsx)("td",{children:Object(C.jsx)(l.b,{to:"/admin/participant/".concat(e.ID),style:{textDecoration:"inherit"},children:Object(C.jsx)("div",{className:"ubah",children:"Lihat"})})}),Object(C.jsxs)("td",{children:[Object(C.jsx)(l.b,{to:"/admin/editvac/".concat(e.ID),style:{textDecoration:"inherit"},children:Object(C.jsx)("div",{className:"ubah",children:"Ubah"})}),Object(C.jsx)("div",{className:"hapus",onClick:function(){return d(e.ID)},children:"Hapus"})]})]},t)}))]})]}):Object(C.jsx)("h2",{children:"Tidak ada kegiatan vaksinasi"})})})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(j.a,{to:"/admin/login"}),D.b.info("anda harus login sebagai admin")]})},Ne=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)([]),i=Object(r.a)(s,2),b=i[0],O=i[1],h=Object(a.useState)([]),m=Object(r.a)(h,2),p=m[0],v=m[1],f=Object(a.useState)(),k=Object(r.a)(f,2),w=k[0],T=k[1],L=Object(a.useState)(),I=Object(r.a)(L,2),F=I[0],E=I[1],A=Object(j.h)().id,q=Object(a.useState)({id:0,nik:"",fullname:"",phone_number:"",address:"",session_id:""}),P=Object(r.a)(q,2),_=P[0],J=P[1],W=Object(u.c)((function(e){return e})).user,K=Object(a.useCallback)((function(){S(A).then((function(e){var t=e.data;console.log(t),J({id:t.ID,nik:t.Nik,fullname:t.Fullname,phone_number:t.PhoneNumber,address:t.Address,session_id:t.SessionID}),T({value:t.Vac.ID,label:t.Vac.Location+" "+t.Vac.Address}),y(t.Vac.ID).then((function(e){var t=e.data;v(t.Sessions.map((function(e){var t=e.ID,c=e.Description,a=e.StartTime;return{value:t,label:c+" tanggal "+Y(a)+" pukul "+Y(a)}})))})).then((function(){E({value:t.Session.ID,label:t.Session.Description+" tanggal "+Y(t.Session.StartTime)+" pukul "+Y(t.Session.StartTime)})})),E({value:t.Session.ID,label:t.Session.Description+" tanggal "+Y(t.Session.StartTime)+" pukul "+Y(t.Session.StartTime)})})).catch((function(){D.b.error("oops sepertinya ada kesalahan")}))}),[F,w,_]);Object(a.useEffect)((function(){K()}),[]),Object(a.useEffect)((function(){g().then((function(e){var t=e.data;n(t),console.log(t),O(t.map((function(e){return{value:e.ID,label:e.Location+" "+e.Address}})))})).catch((function(){console.log("error")}))}),[]);var Y=function(e){return V()(e).locale("id").format("ll")},R=Object(a.useState)(),U=Object(r.a)(R,2),M=U[0],z=U[1],H=Object(a.useState)(""),Z=Object(r.a)(H,2),X=(Z[0],Z[1],Object(a.useState)("")),$=Object(r.a)(X,2),G=($[0],$[1],Object(a.useState)("")),Q=Object(r.a)(G,2),ee=(Q[0],Q[1],Object(a.useState)("")),te=Object(r.a)(ee,2),ae=(te[0],te[1]),ie=function(e){var t=e.target.id,c=e.target.value;J(Object(o.a)(Object(o.a)({},_),{},Object(d.a)({},t,c))),console.log("data: ",_)},re=Object(a.useCallback)((function(e){e.preventDefault(),0!==_.fullname.length&&0!==_.nik.length&&0!==_.phone_number.length||(ae(Object(C.jsx)("div",{className:"error-messages",children:Object(C.jsx)("p",{children:"Semua data harus diisi"})})),e.preventDefault()),_.session_id=null===F||void 0===F?void 0:F.value,function(e){return x.put("/participant",e)}(_,null===w||void 0===w||w.value).then((function(e){D.b.success("Berhasil mengubah data \ud83e\udd73 ")})).catch((function(e){e.meta.description.forEach((function(e){D.b.warn(e)}))})),e.preventDefault()}),[F,_]),je=Object(a.useState)(null),de=Object(r.a)(je,2),oe=de[0],be=de[1],ue=Object(a.useState)(7),Oe=Object(r.a)(ue,2),he=Oe[0],me=(Oe[1],Object(a.useCallback)((function(e,t){console.log(e,t),z({latitude:e,longitude:t}),N({latitude:e,longitude:t,radius:he}).then((function(e){var t=e.data;console.log(t),be(t)})).catch((function(e){console.log(e.response),D.b.warn("hmm sepertinya ada kesalahan")}))}),[M]));return Object(a.useEffect)((function(){if(E(null),w){for(var e=0;e<c.length;e++){var t=c[e];t.ID==w.value&&v(t.Sessions.map((function(e){var t=e.ID,c=e.Description,a=e.StartTime;return{value:t,label:c+" tanggal "+Y(a)+" pukul "+Y(a)}})))}console.log(w)}}),[w]),Object(C.jsxs)(C.Fragment,{children:[W?null:Object(C.jsx)(ce,{}),Object(C.jsx)("div",{className:"headerTop",children:Object(C.jsx)(B,{})}),Object(C.jsx)("div",{className:"mainmenu-user2",children:Object(C.jsxs)("div",{className:"content",children:[Object(C.jsxs)("div",{className:"peta",children:[Object(C.jsxs)("div",{className:"titlemap",children:[Object(C.jsx)("h1",{children:"Edit Vaksinasi"}),Object(C.jsx)("button",{className:"iconVaccine",children:Object(C.jsx)("img",{src:ne,className:"iconVaccine"})})]}),Object(C.jsx)(le,{updateLocation:me})]}),Object(C.jsxs)("div",{className:"container-dual",children:[Object(C.jsx)("div",{className:"profile",children:Object(C.jsx)("div",{className:"property",children:oe?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"value",children:[Object(C.jsx)("p",{children:"Rekomendasi lokasi vaksinasi terdekat:"}),Object(C.jsx)("br",{})]}),oe.length>=1?Object(C.jsx)(C.Fragment,{children:oe.map((function(e,t){return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"value",children:[Object(C.jsx)("h4",{children:e.Location}),Object(C.jsx)("p",{children:e.Address}),Object(C.jsx)("br",{})]})})}))}):Object(C.jsx)("div",{className:"value",children:Object(C.jsx)("p",{children:"Tidak ada data untuk ditampilkan"})})]}):Object(C.jsx)("div",{className:"value",children:Object(C.jsxs)("p",{children:["Klik tombol lokasi saya di pojok kiri atas peta untuk melihat lokasi vaksinasi di sekitar"," "]})})})}),Object(C.jsx)("div",{className:"profile",children:Object(C.jsxs)("form",{spellCheck:"false",onSubmit:re,children:[Object(C.jsx)("p",{children:"Nama"}),Object(C.jsx)("input",{className:"inputuser",type:"text",id:"fullname",onChange:ie,value:_.fullname,required:!0}),Object(C.jsx)("p",{children:"NIK"}),Object(C.jsx)("input",{className:"inputuser",type:"number",onChange:ie,id:"nik",value:_.nik,required:!0}),Object(C.jsx)("p",{children:"Nomor telepon"}),Object(C.jsx)("input",{className:"inputuser",type:"number",onChange:ie,id:"phone_number",value:_.phone_number,required:!0}),Object(C.jsx)("p",{children:"Alamat"}),Object(C.jsx)("input",{className:"inputuser",type:"text",onChange:ie,id:"address",value:_.address,required:!0}),Object(C.jsx)("p",{children:"Lokasi Vaksin"}),Object(C.jsx)("div",{className:"dropdown",children:Object(C.jsx)(se.a,{options:b,value:w,onChange:T,required:!0})}),Object(C.jsx)("p",{children:"Sesi Vaksin"}),Object(C.jsx)("div",{className:"dropdown",children:Object(C.jsx)(se.a,{options:p,value:F,onChange:E,id:"session_id",required:!0})}),Object(C.jsxs)("div",{className:"dialog-button",children:[Object(C.jsx)(l.b,{to:"/user/profile",style:{textDecoration:"inherit"},children:Object(C.jsx)("div",{className:"back",children:"Batal"})}),Object(C.jsx)("input",{type:"submit",className:"add",value:"Ubah"})]})]})})]})]})})]})},ke="pk.eyJ1IjoiYWx0YWhhIiwiYSI6ImNreW1lYnp6bDAxbWcyb2xqZjZsYzYwdWsifQ.7Oezd-XT8iHNi4rr2Jtphw";P.a.accessToken=ke;var Se=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)([]),i=Object(r.a)(s,2),j=i[0],b=i[1],O=Object(a.useState)([]),h=Object(r.a)(O,2),m=h[0],x=h[1],p=Object(a.useState)(null),v=Object(r.a)(p,2),f=(v[0],v[1],Object(a.useState)([])),S=Object(r.a)(f,2),y=S[0],w=S[1],T=Object(a.useState)(),L=Object(r.a)(T,2),I=L[0],F=L[1],E=Object(a.useState)(),q=Object(r.a)(E,2),_=q[0],J=q[1];Object(a.useEffect)((function(){g().then((function(e){var t=e.data;n(t),console.log("daftar seluruh vaksinasi: ",t),b(t.map((function(e){return{value:e.ID,label:e.Location+" "+e.Address}})))})).catch((function(){console.log("error")}))}),[]);var W=Object(a.useState)({nik:"",fullname:"",phone_number:"",address:"",session_id:""}),K=Object(r.a)(W,2),Y=K[0],R=K[1],U=Object(u.c)((function(e){return e})).user,M=function(e){return V()(e).locale("id").format("LT")},z=Object(a.useState)(),H=Object(r.a)(z,2),Z=H[0],X=H[1],$=Object(a.useState)(5),G=Object(r.a)($,2),Q=G[0],ee=G[1],te=Object(a.useState)(""),ae=Object(r.a)(te,2),ie=(ae[0],ae[1]),re=function(e){var t=e.target.id,c=e.target.value;R(Object(o.a)(Object(o.a)({},Y),{},Object(d.a)({},t,c))),console.log("data: ",Y)},le=Object(a.useCallback)((function(e){e.preventDefault(),0!==Y.fullname.length&&0!==Y.nik.length&&0!==Y.phone_number.length||(ie(Object(C.jsx)("div",{className:"error-messages",children:Object(C.jsx)("p",{children:"You must fill all fields"})})),e.preventDefault()),Y.password!=Y.confirmpassword&&ie(Object(C.jsx)("div",{className:"error-messages",children:Object(C.jsx)("p",{children:"Password not match"})})),Y.session_id=null===_||void 0===_?void 0:_.value,k(Y,null===I||void 0===I?void 0:I.value).then((function(e){D.b.success("pendaftaran berhasil \ud83e\udd29 \ud83e\udd73 ")})).catch((function(e){e.meta.description.forEach((function(e){D.b.warn(e)}))})),e.preventDefault()}),[_,Y]),je=Object(a.useState)(null),de=Object(r.a)(je,2),oe=de[0],be=de[1],ue=Object(a.useCallback)((function(e,t){console.log(e,t),X({latitude:e,longitude:t}),N({latitude:e,longitude:t,radius:Q}).then((function(e){var t=e.data;console.log("daftar vaksinas dalam radius",Q,"km: ",t),be(t)})).catch((function(e){console.log(e.response),D.b.warn("hmm sepertinya ada kesalahan")}))}),[Z]);Object(a.useEffect)((function(){if(J(null),I){for(var e=0;e<c.length;e++){var t=c[e];t.ID==I.value&&w(t.Sessions.map((function(e){var t,c=e.ID,a=e.Description,n=e.StartTime;return{value:c,label:a+" tanggal "+(t=n,V()(t).locale("id").format("ll")+" pukul ")+M(n)}})))}console.log(I)}}),[I]);var Oe=Object(a.useCallback)((function(e){var t=e.code,c=e.routes;"Ok"==t&&x([].concat(Object(A.a)(m),[c[0].distance]))}),[m]);Object(a.useEffect)((function(){null!=Z&&oe&&(console.log("koordinat user ",Z),oe.map((function(e){fetch("https://api.mapbox.com/directions/v5/mapbox/driving/".concat(Z.longitude,",").concat(Z.latitude,";").concat(e.Longitude,",").concat(e.Latitude,"?geometries=geojson&access_token=").concat(ke)).then((function(e){return e.json()})).then((function(e){return Oe(e)}))})))}),[oe,Z]),Object(a.useEffect)((function(){console.log(m)}),[m]);var he=Object(a.useRef)(null),me=Object(a.useRef)(null),xe=[[98.405881,3.494404],[98.916406,3.690163]],pe=Object(a.useState)(98.6520151),ve=Object(r.a)(pe,2),fe=ve[0],ge=ve[1],Ne=Object(a.useState)(3.5611232),Se=Object(r.a)(Ne,2),ye=Se[0],De=Se[1],Ce=Object(a.useState)(13),we=Object(r.a)(Ce,2),Te=we[0],Le=we[1],Ve=new P.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserHeading:!0,showAccuracyCircle:!1});return Object(a.useEffect)((function(){me.current||(me.current=new P.a.Map({container:he.current,style:"mapbox://styles/mapbox/streets-v11",center:[fe,ye],zoom:Te,maxBounds:xe,customAttribution:"Untuk skripsi Altaha"}),me.current.addControl(new P.a.FullscreenControl({container:document.querySelector("content")})),me.current.addControl(Ve),me.current.addControl(new P.a.NavigationControl))}),[]),Object(a.useEffect)((function(){c.map((function(e){(new P.a.Marker).setLngLat([e.Longitude,e.Latitude]).addTo(me.current).setPopup((new P.a.Popup).setHTML("<p >".concat(e.Location,"<br/>").concat(e.Description,"</p>")))}))}),[c]),Object(a.useEffect)((function(){Ve.on("geolocate",(function(e){console.log("A geolocate event has occurred.");var t=e.coords.longitude,c=e.coords.latitude,a=[t,c];console.log(a),ue(c,t)}))}),[]),Ve.on("outofmaxbounds",(function(){console.log("An outofmaxbounds event has occurred.")})),Object(a.useEffect)((function(){me.current&&(me.current.on("move",(function(){ge(me.current.getCenter().lng.toFixed(4)),De(me.current.getCenter().lat.toFixed(4)),Le(me.current.getZoom().toFixed(2))})),me.current.on("error",(function(){console.log("An error event has occurred.")})))})),Object(C.jsxs)(C.Fragment,{children:[U?null:Object(C.jsx)(ce,{}),Object(C.jsx)("div",{className:"headerTop",children:Object(C.jsx)(B,{})}),Object(C.jsx)("div",{className:"mainmenu-user2",children:Object(C.jsxs)("div",{className:"content",children:[Object(C.jsxs)("div",{className:"peta",children:[Object(C.jsxs)("div",{className:"titlemap",children:[Object(C.jsx)("h1",{children:"Daftar Vaksinasi"}),Object(C.jsx)("button",{className:"iconVaccine",children:Object(C.jsx)("img",{src:ne,className:"iconVaccine"})})]}),"Longitude: ",fe," | Latitude: ",ye," | Zoom: ",Te,Object(C.jsx)("div",{ref:he,className:"map-container"})]}),Object(C.jsxs)("div",{className:"container-dual",children:[Object(C.jsx)("div",{className:"profile",children:Object(C.jsx)("div",{className:"property",children:oe?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"value",children:[Object(C.jsx)("p",{children:"Lokasi vaksinasi terdekat"}),Object(C.jsx)("br",{}),Object(C.jsx)("p",{children:"Cari lokasi vaksinasi dalam radius km:"}),Object(C.jsxs)("form",{onSubmit:function(e){var t=Z.latitude,c=Z.longitude;N({latitude:t,longitude:c,radius:Q}).then((function(e){var t=e.data;console.log("daftar vaksinas dalam radius",Q,"km: ",t),be(t)})).catch((function(e){console.log(e.response),D.b.warn("hmm sepertinya ada kesalahan")})),e.preventDefault()},className:"dialog-button",children:[Object(C.jsx)("input",{type:"number",className:"inputuser2",value:Q,onChange:function(e){e.preventDefault();var t="number"==e.target.type?Number(e.target.value):e.target.value;console.log(t),ee(t),console.log("radius = ",Q)},min:"0",step:"0.1",max:"20"}),Object(C.jsx)("input",{type:"submit",className:"add2",value:"Lihat"})]})]}),oe.length>=1?Object(C.jsx)(C.Fragment,{children:oe.map((function(e,t){return Object(C.jsxs)("div",{className:"value",children:[Object(C.jsx)("h4",{children:e.Location}),Object(C.jsx)("p",{children:e.Address}),Object(C.jsx)("br",{})]},t)}))}):Object(C.jsx)("div",{className:"value",children:Object(C.jsx)("p",{children:"Tidak ada data untuk ditampilkan"})})]}):Object(C.jsx)("div",{className:"value",children:Object(C.jsxs)("p",{children:['Klik tombol "lokasi saya" di pojok kanan atas peta untuk melihat lokasi vaksinasi di sekitar'," "]})})})}),Object(C.jsx)("div",{className:"profile",children:Object(C.jsxs)("form",{spellCheck:"false",onSubmit:le,children:[Object(C.jsx)("p",{children:"Nama"}),Object(C.jsx)("input",{className:"inputuser",type:"text",id:"fullname",onChange:re,value:Y.fullname,required:!0}),Object(C.jsx)("p",{children:"NIK"}),Object(C.jsx)("input",{className:"inputuser",type:"number",onChange:re,id:"nik",value:Y.nik,required:!0}),Object(C.jsx)("p",{children:"Nomor telepon"}),Object(C.jsx)("input",{className:"inputuser",type:"number",onChange:re,id:"phone_number",value:Y.phone_number,required:!0}),Object(C.jsx)("p",{children:"Alamat"}),Object(C.jsx)("input",{className:"inputuser",type:"text",onChange:re,id:"address",value:Y.address,required:!0}),Object(C.jsx)("p",{children:"Lokasi Vaksin"}),Object(C.jsx)("div",{className:"dropdown",children:Object(C.jsx)(se.a,{options:j,value:I,onChange:F,required:!0})}),Object(C.jsx)("p",{children:"Sesi Vaksin"}),Object(C.jsx)("div",{className:"dropdown",children:Object(C.jsx)(se.a,{options:y,value:_,onChange:J,id:"session_id",required:!0})}),Object(C.jsxs)("div",{className:"dialog-button",children:[Object(C.jsx)(l.b,{to:"/user/landingpage",style:{textDecoration:"inherit"},children:Object(C.jsx)("div",{className:"back",children:"Kembali"})}),Object(C.jsx)("input",{type:"submit",className:"add",value:"Tambah"})]})]})})]})]})})]})};var ye=function(){var e=Object(u.b)(),t=Object(a.useState)(!1),c=Object(r.a)(t,2),n=c[0],s=c[1];return Object(a.useEffect)((function(){if(localStorage.getItem("vac:token")){var t=JSON.parse(localStorage.getItem("vac:token"));h(t.token),e(te(t)),s(!0)}else s(!0)}),[]),Object(a.useEffect)((function(){if(localStorage.getItem("vac:token-admin")){var t=JSON.parse(localStorage.getItem("vac:token-admin"));h(t.Token),e(f(t)),s(!0)}else s(!0)}),[]),n?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(E,{}),Object(C.jsx)(l.a,{children:Object(C.jsxs)(j.d,{children:[Object(C.jsx)(j.b,{path:"/admin/login",element:Object(C.jsx)(w,{})}),Object(C.jsx)(j.b,{path:"/admin/main-menu",element:Object(C.jsx)(F,{})}),Object(C.jsx)(j.b,{path:"/admin/ownvac",element:Object(C.jsx)(ge,{})}),Object(C.jsx)(j.b,{path:"/admin/add-vaccination",element:Object(C.jsx)(J,{})}),Object(C.jsx)(j.b,{path:"/admin/news",element:Object(C.jsx)(R,{})}),Object(C.jsx)(j.b,{path:"/admin/profile",element:Object(C.jsx)(U,{})}),Object(C.jsx)(j.b,{path:"/admin/edit-vaccination",element:Object(C.jsx)(M,{})}),Object(C.jsx)(j.b,{path:"/admin/test",element:Object(C.jsx)(R,{})}),Object(C.jsx)(j.b,{path:"/admin/participant/:id",element:Object(C.jsx)(X,{})}),Object(C.jsx)(j.b,{path:"/admin/editvac/:id",element:Object(C.jsx)(M,{})}),Object(C.jsx)(j.b,{path:"*",element:Object(C.jsx)($,{})}),Object(C.jsx)(j.b,{path:"/user/landingpage",element:Object(C.jsx)(G,{})}),Object(C.jsx)(j.b,{path:"/user/profile",element:Object(C.jsx)(ae,{})}),Object(C.jsx)(j.b,{path:"/user/reg-vaccine",element:Object(C.jsx)(Se,{})}),Object(C.jsx)(j.b,{path:"/user/info-vacc",element:Object(C.jsx)(je,{})}),Object(C.jsx)(j.b,{path:"/user/login",element:Object(C.jsx)(de,{})}),Object(C.jsx)(j.b,{path:"/user/register",element:Object(C.jsx)(oe,{})}),Object(C.jsx)(j.b,{path:"/user/vaccine-list",element:Object(C.jsx)(be,{})}),Object(C.jsx)(j.b,{path:"/user/yet-login",element:Object(C.jsx)(ce,{})}),Object(C.jsx)(j.b,{path:"/user/agreement",element:Object(C.jsx)(ue,{})}),Object(C.jsx)(j.b,{path:"/user/ticket/:id",element:Object(C.jsx)(me,{})}),Object(C.jsx)(j.b,{path:"/user/edit-vaccination",element:Object(C.jsx)(fe,{})}),Object(C.jsx)(j.b,{path:"/user/updateparticipant/:id",element:Object(C.jsx)(Ne,{})})]})}),Object(C.jsx)(D.a,{position:"top-right",autoClose:5e3})]}):null},De=function(e){e&&e instanceof Function&&c.e(6).then(c.bind(null,344)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))},Ce=c(55),we=Object(Ce.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(o.a)(Object(o.a)({},e),t.payload);case ee:return localStorage.removeItem("vac:token"),null;default:return e}},admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(o.a)(Object(o.a)({},e),t.payload);case v:return localStorage.removeItem("vac:token-admin"),null;default:return e}}}),Te=function(e){return Object(Ce.b)(we,"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})};i.a.render(Object(C.jsx)(u.a,{store:Te(),children:Object(C.jsx)(ye,{})}),document.getElementById("root")),De()}},[[189,1,2]]]);
//# sourceMappingURL=main.6d2a9fed.chunk.js.map